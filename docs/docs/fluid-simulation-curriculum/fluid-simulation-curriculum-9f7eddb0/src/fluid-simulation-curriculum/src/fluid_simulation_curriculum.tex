\documentclass[11pt,letterpaper]{report}

% ============================================================================
% PACKAGES
% ============================================================================
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[margin=1in]{geometry}
\usepackage{titlesec}
\usepackage{titletoc}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{tcolorbox}
\usepackage{tikz}
\usepackage{pdfpages}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}

% ============================================================================
% COLOR DEFINITIONS
% ============================================================================
\definecolor{primaryblue}{RGB}{0, 82, 147}
\definecolor{secondaryblue}{RGB}{70, 130, 180}
\definecolor{accentorange}{RGB}{230, 126, 34}
\definecolor{lightgray}{RGB}{245, 245, 245}
\definecolor{darkgray}{RGB}{64, 64, 64}
\definecolor{successgreen}{RGB}{39, 174, 96}
\definecolor{warningyellow}{RGB}{241, 196, 15}
\definecolor{waterblue}{RGB}{52, 152, 219}
\definecolor{airpurple}{RGB}{155, 89, 182}

% ============================================================================
% HYPERREF CONFIGURATION
% ============================================================================
\hypersetup{
    colorlinks=true,
    linkcolor=primaryblue,
    filecolor=primaryblue,
    urlcolor=secondaryblue,
    citecolor=primaryblue,
    pdftitle={Fluid Simulation for Computer Graphics: Comprehensive Curriculum},
    pdfauthor={Technical Curriculum Development},
    pdfsubject={Fluid Dynamics, Computer Graphics, Simulation},
    pdfkeywords={fluid simulation, Navier-Stokes, computer graphics, VFX, game development}
}

% ============================================================================
% TCOLORBOX ENVIRONMENTS
% ============================================================================
\tcbuselibrary{skins,breakable}

\newtcolorbox{learningobjectives}{
    colback=primaryblue!5,
    colframe=primaryblue,
    fonttitle=\bfseries,
    title=Learning Objectives,
    breakable
}

\newtcolorbox{prerequisites}{
    colback=accentorange!5,
    colframe=accentorange,
    fonttitle=\bfseries,
    title=Prerequisites,
    breakable
}

\newtcolorbox{practicalexercise}{
    colback=successgreen!5,
    colframe=successgreen,
    fonttitle=\bfseries,
    title=Practical Exercise,
    breakable
}

\newtcolorbox{keyconcept}{
    colback=lightgray,
    colframe=darkgray,
    fonttitle=\bfseries,
    title=Key Concept,
    breakable
}

\newtcolorbox{watertrack}{
    colback=waterblue!10,
    colframe=waterblue,
    fonttitle=\bfseries,
    title=Water Simulation Track,
    breakable
}

\newtcolorbox{airtrack}{
    colback=airpurple!10,
    colframe=airpurple,
    fonttitle=\bfseries,
    title=Air/Smoke Simulation Track,
    breakable
}

\newtcolorbox{assessment}{
    colback=warningyellow!10,
    colframe=warningyellow!80!black,
    fonttitle=\bfseries,
    title=Assessment Criteria,
    breakable
}

\newtcolorbox{mathfoundation}{
    colback=gray!5,
    colframe=gray!60,
    fonttitle=\bfseries,
    breakable
}

% ============================================================================
% TITLE FORMATTING
% ============================================================================
\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries\color{primaryblue}}
    {\chaptertitlename\ \thechapter}{20pt}{\Huge}

\titleformat{\section}
    {\normalfont\Large\bfseries\color{primaryblue}}
    {\thesection}{1em}{}

\titleformat{\subsection}
    {\normalfont\large\bfseries\color{secondaryblue}}
    {\thesubsection}{1em}{}

\titleformat{\subsubsection}
    {\normalfont\normalsize\bfseries\color{darkgray}}
    {\thesubsubsection}{1em}{}

% ============================================================================
% HEADER/FOOTER
% ============================================================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\leftmark}
\fancyhead[R]{\textcolor{primaryblue}{Fluid Simulation Curriculum}}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% ============================================================================
% DOCUMENT METADATA
% ============================================================================
\title{
    \vspace{-2cm}
    \textcolor{primaryblue}{\rule{\linewidth}{2pt}}\\[0.5cm]
    {\Huge\bfseries Fluid Simulation for\\Computer Graphics}\\[0.3cm]
    {\LARGE\itshape Comprehensive Curriculum}\\[0.3cm]
    {\large From Visual Intuition to Production-Quality Solvers}\\[0.5cm]
    \textcolor{primaryblue}{\rule{\linewidth}{2pt}}
}

\author{
    \Large Technical Curriculum Development\\[0.2cm]
    \large Game Development \& Visual Effects Track
}

\date{
    \vspace{0.5cm}
    \large Version 1.0\\
    \today
}

% ============================================================================
% DOCUMENT BEGIN
% ============================================================================
\begin{document}

\maketitle
\thispagestyle{empty}

% ----------------------------------------------------------------------------
% EXECUTIVE SUMMARY PAGE
% ----------------------------------------------------------------------------
\newpage
\thispagestyle{empty}

\begin{center}
    \Large\bfseries\textcolor{primaryblue}{Executive Summary}
\end{center}

\vspace{1cm}

\noindent This curriculum provides a structured, comprehensive pathway for mastering fluid simulation techniques in computer graphics. Drawing from three foundational texts in the field---\textit{The Art of Fluid Animation} by Jos Stam, \textit{Fluid Engine Development} by Doyub Kim, and \textit{Fluid Simulation for Computer Graphics} by Robert Bridson---this program establishes a progressive learning journey from visual intuition through working implementation to mathematically rigorous production-quality systems.

\vspace{0.5cm}

\begin{center}
\begin{tabular}{|l|c|c|}
\hline
\textbf{Program Component} & \textbf{Duration} & \textbf{Credit Hours} \\
\hline
Phase 1: Foundations \& Visual Intuition & 6 weeks & 90 hours \\
Phase 2: Engine Development & 10 weeks & 200 hours \\
Phase 3: Advanced Theory \& Numerics & 8 weeks & 160 hours \\
Phase 4: Specialization Tracks & 6 weeks & 120 hours \\
Phase 5: Capstone Project & 6 weeks & 150 hours \\
\hline
\textbf{Total Program} & \textbf{36 weeks} & \textbf{720 hours} \\
\hline
\end{tabular}
\end{center}

\vspace{0.5cm}

\noindent\textbf{Target Audience:} Software engineers, game developers, VFX technical directors, and graphics programmers with foundational programming skills seeking to develop expertise in physically-based fluid simulation.

\vspace{0.5cm}

\noindent\textbf{Outcomes:} Graduates will possess the ability to design, implement, and optimize fluid simulation systems for both real-time and offline rendering contexts, with deep understanding of the underlying physics, numerical methods, and computational trade-offs involved.

% ----------------------------------------------------------------------------
% TABLE OF CONTENTS
% ----------------------------------------------------------------------------
\newpage
\tableofcontents
\newpage

% ============================================================================
% CHAPTER 1: PROGRAM OVERVIEW
% ============================================================================
\chapter{Program Overview}

\section{Introduction to the Curriculum}

Fluid simulation represents one of the most challenging and rewarding domains in computer graphics. From the gentle ripples of a pond to explosive fire effects and billowing smoke, fluids bring scenes to life with organic, dynamic motion that is immediately recognizable yet extraordinarily difficult to fake. This curriculum provides a systematic approach to mastering fluid simulation, balancing theoretical rigor with practical implementation skills.

The program follows a carefully designed progression that mirrors how expert practitioners in the field recommend approaching this complex subject. Rather than diving immediately into the mathematical depths of the Navier-Stokes equations, students first develop visual intuition and understand the historical context of fluid animation. This foundation enables more effective learning when implementation details and rigorous numerics are introduced.

\section{Curriculum Philosophy}

\subsection{The Three-Text Approach}

This curriculum integrates three seminal works that, together, provide complete coverage of fluid simulation for computer graphics.

\subsubsection{The Art of Fluid Animation (Jos Stam)}

Jos Stam's work serves as the conceptual and historical entry point. Stam, one of the pioneers who brought practical fluid simulation to computer graphics through his famous ``Stable Fluids'' paper, provides an accessible, visually-driven introduction that prioritizes understanding over mathematical formalism. This text establishes why certain techniques became standard and helps students develop intuition about what makes fluid motion look convincing.

\subsubsection{Fluid Engine Development (Doyub Kim)}

Doyub Kim's engineering-focused text bridges the gap between theory and practice. With a complete, working C++ codebase and step-by-step construction methodology, this book transforms abstract algorithms into concrete, testable implementations. Students learn not just individual techniques but how to architect a complete simulation system.

\subsubsection{Fluid Simulation for Computer Graphics (Robert Bridson)}

Robert Bridson's comprehensive treatise represents the mathematical and algorithmic gold standard for the field. The second edition covers everything from foundational PDEs through advanced topics like level sets, vortex methods, and multi-phase flows. This text enables students to understand why algorithms work, diagnose stability issues, and extend techniques for novel applications.

\subsection{Progressive Skill Development}

The curriculum employs a spiral approach where concepts are introduced at increasing levels of sophistication.

\begin{keyconcept}
\textbf{Learning Spiral Model:} Each major topic (advection, pressure projection, boundary handling, etc.) is encountered three times: first for intuition (Stam), then for implementation (Kim), and finally for deep understanding and optimization (Bridson).
\end{keyconcept}

\section{Program Structure}

\subsection{Phase Overview}

The program consists of five major phases, each building upon the previous.

\begin{enumerate}[leftmargin=2cm]
    \item[\textbf{Phase 1}] \textbf{Foundations \& Visual Intuition} (6 weeks)\\
    Mathematical prerequisites, physical principles, and visual target identification using Stam's approach.
    
    \item[\textbf{Phase 2}] \textbf{Engine Development} (10 weeks)\\
    Construction of a working fluid simulation engine following Kim's methodology, covering grids, particles, and hybrid approaches.
    
    \item[\textbf{Phase 3}] \textbf{Advanced Theory \& Numerics} (8 weeks)\\
    Deep dive into Bridson's rigorous treatment of numerical methods, stability analysis, and advanced algorithms.
    
    \item[\textbf{Phase 4}] \textbf{Specialization Tracks} (6 weeks)\\
    Focused study in either water simulation (free surfaces, splashes, ocean rendering) or air/fire simulation (smoke, explosions, turbulence).
    
    \item[\textbf{Phase 5}] \textbf{Capstone Project} (6 weeks)\\
    Integration project demonstrating mastery through original implementation work.
\end{enumerate}

\subsection{Weekly Time Commitment}

Students should expect to dedicate approximately 20 hours per week to this program.

\begin{center}
\begin{tabular}{lc}
\toprule
\textbf{Activity} & \textbf{Hours/Week} \\
\midrule
Reading \& Study & 5--6 \\
Implementation Work & 8--10 \\
Problem Sets \& Exercises & 3--4 \\
Review \& Reflection & 1--2 \\
\bottomrule
\end{tabular}
\end{center}

\section{Prerequisites}

\begin{prerequisites}
Students entering this program should possess the following foundational knowledge.

\textbf{Programming Skills:}
\begin{itemize}
    \item Proficiency in C++ (comfortable with templates, memory management, STL)
    \item Experience with at least one scripting language (Python recommended)
    \item Familiarity with build systems (CMake, Make)
    \item Version control with Git
\end{itemize}

\textbf{Mathematics:}
\begin{itemize}
    \item Single and multivariable calculus (derivatives, integrals, gradients)
    \item Linear algebra (vectors, matrices, eigenvalues, linear systems)
    \item Basic differential equations (ODEs, exposure to PDEs helpful)
    \item Numerical methods fundamentals (interpolation, numerical integration)
\end{itemize}

\textbf{Computer Graphics:}
\begin{itemize}
    \item Understanding of coordinate systems and transformations
    \item Basic rendering pipeline knowledge
    \item Familiarity with real-time graphics concepts helpful but not required
\end{itemize}
\end{prerequisites}

\section{Learning Outcomes}

Upon successful completion of this program, students will be able to:

\begin{learningobjectives}
\textbf{Theoretical Understanding:}
\begin{enumerate}
    \item Explain the Navier-Stokes equations and their simplifications for computer graphics
    \item Analyze stability and accuracy properties of numerical schemes
    \item Compare and contrast grid-based, particle-based, and hybrid simulation approaches
    \item Evaluate trade-offs between physical accuracy and computational performance
\end{enumerate}

\textbf{Implementation Skills:}
\begin{enumerate}
    \item Implement a complete 2D/3D fluid simulation engine from scratch
    \item Design efficient data structures for grid and particle representations
    \item Integrate pressure solvers and advection schemes
    \item Profile and optimize simulation performance
\end{enumerate}

\textbf{Applied Competencies:}
\begin{enumerate}
    \item Create visually convincing water, smoke, and fire effects
    \item Adapt simulation parameters for artistic direction
    \item Debug and diagnose common simulation artifacts
    \item Extend base implementations for novel effects
\end{enumerate}
\end{learningobjectives}

\section{Required Materials}

\subsection{Primary Texts}

\begin{enumerate}
    \item \textbf{Stam, Jos.} \textit{The Art of Fluid Animation.} A K Peters/CRC Press, 2015.\\
    ISBN: 978-1498700207
    
    \item \textbf{Kim, Doyub.} \textit{Fluid Engine Development.} A K Peters/CRC Press, 2017.\\
    ISBN: 978-1498719926
    
    \item \textbf{Bridson, Robert.} \textit{Fluid Simulation for Computer Graphics.} 2nd Edition. A K Peters/CRC Press, 2015.\\
    ISBN: 978-1482232837
\end{enumerate}

\subsection{Supplementary Resources}

\begin{itemize}
    \item Access to a C++ development environment (Visual Studio, CLion, or GCC/Clang toolchain)
    \item Python 3.x with NumPy, Matplotlib for prototyping and visualization
    \item OpenGL or similar graphics API for rendering (optional but recommended)
    \item GPU compute capability (CUDA or OpenCL) for advanced modules
\end{itemize}

% ============================================================================
% CHAPTER 2: MATHEMATICAL FOUNDATIONS
% ============================================================================
\chapter{Mathematical Foundations}

\section{Overview}

Before engaging with fluid simulation proper, students must develop or refresh the mathematical tools required for understanding the governing equations, discretization schemes, and numerical methods. This chapter outlines the mathematical prerequisites and provides a structured review curriculum.

\section{Vector Calculus Review}

\subsection{Scalar and Vector Fields}

Fluid simulation operates on fields---functions defined over space (and time) that describe physical quantities. Understanding field representations is fundamental to all subsequent work.

\begin{mathfoundation}[title=Scalar Fields]
A scalar field $\phi(\mathbf{x}, t)$ assigns a single value to each point in space. Examples in fluid simulation include pressure $p$, density $\rho$, and temperature $T$.

\vspace{0.3cm}
Key operations on scalar fields include the \textbf{gradient}, which produces a vector field pointing in the direction of steepest increase:
\[
\nabla \phi = \left( \frac{\partial \phi}{\partial x}, \frac{\partial \phi}{\partial y}, \frac{\partial \phi}{\partial z} \right)
\]
\end{mathfoundation}

\begin{mathfoundation}[title=Vector Fields]
A vector field $\mathbf{u}(\mathbf{x}, t)$ assigns a vector to each point in space. The velocity field is the primary vector field in fluid simulation.

\vspace{0.3cm}
Key operations include the \textbf{divergence} (measuring ``outflow''):
\[
\nabla \cdot \mathbf{u} = \frac{\partial u}{\partial x} + \frac{\partial v}{\partial y} + \frac{\partial w}{\partial z}
\]

And the \textbf{curl} (measuring rotation):
\[
\nabla \times \mathbf{u} = \left( \frac{\partial w}{\partial y} - \frac{\partial v}{\partial z}, \frac{\partial u}{\partial z} - \frac{\partial w}{\partial x}, \frac{\partial v}{\partial x} - \frac{\partial u}{\partial y} \right)
\]
\end{mathfoundation}

\subsection{The Laplacian Operator}

The Laplacian appears throughout fluid simulation, particularly in pressure projection and viscosity calculations.

\[
\nabla^2 \phi = \frac{\partial^2 \phi}{\partial x^2} + \frac{\partial^2 \phi}{\partial y^2} + \frac{\partial^2 \phi}{\partial z^2}
\]

For vector fields, the vector Laplacian is defined component-wise (in Cartesian coordinates).

\subsection{Material Derivative}

The material derivative captures how quantities change following the fluid flow, essential for advection.

\[
\frac{D\phi}{Dt} = \frac{\partial \phi}{\partial t} + \mathbf{u} \cdot \nabla \phi
\]

\begin{practicalexercise}
\textbf{Exercise 2.1: Field Visualization}\\
Implement Python/NumPy functions to:
\begin{enumerate}
    \item Create a 2D velocity field representing solid body rotation
    \item Compute and visualize the divergence and curl of this field
    \item Verify analytically that divergence should be zero and curl should be constant
    \item Repeat for a source/sink field and compare results
\end{enumerate}
\textbf{Deliverable:} Jupyter notebook with visualizations and analytical verification.
\end{practicalexercise}

\section{Partial Differential Equations}

\subsection{Classification of PDEs}

Understanding PDE classification helps predict solution behavior and select appropriate numerical methods.

\begin{center}
\begin{tabular}{llp{6cm}}
\toprule
\textbf{Type} & \textbf{Canonical Form} & \textbf{Physical Example} \\
\midrule
Elliptic & $\nabla^2 \phi = f$ & Steady-state pressure \\
Parabolic & $\partial_t \phi = \nabla^2 \phi$ & Heat diffusion, viscosity \\
Hyperbolic & $\partial_{tt} \phi = c^2 \nabla^2 \phi$ & Wave propagation \\
\bottomrule
\end{tabular}
\end{center}

\subsection{The Navier-Stokes Equations}

The incompressible Navier-Stokes equations govern the motion of fluids like water and, with appropriate approximations, gases like air at low speeds.

\begin{mathfoundation}[title=Incompressible Navier-Stokes Equations]
\textbf{Momentum equation:}
\[
\frac{\partial \mathbf{u}}{\partial t} + (\mathbf{u} \cdot \nabla)\mathbf{u} = -\frac{1}{\rho}\nabla p + \nu \nabla^2 \mathbf{u} + \mathbf{f}
\]

\textbf{Incompressibility constraint:}
\[
\nabla \cdot \mathbf{u} = 0
\]

where $\mathbf{u}$ is velocity, $p$ is pressure, $\rho$ is density, $\nu$ is kinematic viscosity, and $\mathbf{f}$ represents external forces (gravity, etc.).
\end{mathfoundation}

\subsection{Physical Interpretation of Terms}

Each term in the momentum equation has physical meaning.

\begin{itemize}
    \item $\partial_t \mathbf{u}$: Local acceleration (change in velocity at a fixed point)
    \item $(\mathbf{u} \cdot \nabla)\mathbf{u}$: Advection (velocity carrying itself through space)
    \item $-\frac{1}{\rho}\nabla p$: Pressure gradient force (fluid accelerates from high to low pressure)
    \item $\nu \nabla^2 \mathbf{u}$: Viscous diffusion (momentum spreading between fluid layers)
    \item $\mathbf{f}$: External body forces (gravity, buoyancy, electromagnetic)
\end{itemize}

\section{Linear Algebra for Simulation}

\subsection{Linear Systems and Sparse Matrices}

Fluid simulation repeatedly requires solving large linear systems, particularly for pressure projection.

\begin{keyconcept}
The pressure Poisson equation discretized on a grid yields a sparse linear system $A\mathbf{p} = \mathbf{b}$ where $A$ is symmetric positive definite for well-posed problems. This structure enables efficient iterative solvers.
\end{keyconcept}

\subsection{Iterative Solvers}

Key iterative methods for pressure solving include:

\begin{itemize}
    \item \textbf{Jacobi iteration}: Simple, highly parallelizable, slow convergence
    \item \textbf{Gauss-Seidel}: Sequential updates, faster convergence
    \item \textbf{Successive Over-Relaxation (SOR)}: Accelerated Gauss-Seidel
    \item \textbf{Conjugate Gradient (CG)}: Optimal for SPD systems
    \item \textbf{Preconditioned CG}: CG with preconditioning for faster convergence
    \item \textbf{Multigrid}: Hierarchical approach, optimal $O(n)$ complexity
\end{itemize}

\begin{practicalexercise}
\textbf{Exercise 2.2: Poisson Solver Implementation}\\
Implement and compare solvers for the 2D Poisson equation $\nabla^2 \phi = f$:
\begin{enumerate}
    \item Implement Jacobi iteration with convergence monitoring
    \item Implement Gauss-Seidel and compare iteration counts
    \item Implement Conjugate Gradient and measure performance
    \item Test on grids of size $32^2$, $64^2$, $128^2$, $256^2$
    \item Plot convergence curves and timing results
\end{enumerate}
\textbf{Deliverable:} C++ implementation with performance analysis report.
\end{practicalexercise}

\section{Numerical Methods Fundamentals}

\subsection{Finite Differences}

Discretization of derivatives using finite differences forms the basis of grid-based simulation.

\begin{mathfoundation}[title=Standard Finite Difference Formulas]
\textbf{First derivatives:}
\begin{align*}
\text{Forward:} \quad & \frac{\partial \phi}{\partial x} \approx \frac{\phi_{i+1} - \phi_i}{\Delta x} + O(\Delta x) \\
\text{Backward:} \quad & \frac{\partial \phi}{\partial x} \approx \frac{\phi_i - \phi_{i-1}}{\Delta x} + O(\Delta x) \\
\text{Central:} \quad & \frac{\partial \phi}{\partial x} \approx \frac{\phi_{i+1} - \phi_{i-1}}{2\Delta x} + O(\Delta x^2)
\end{align*}

\textbf{Second derivative (Laplacian component):}
\[
\frac{\partial^2 \phi}{\partial x^2} \approx \frac{\phi_{i+1} - 2\phi_i + \phi_{i-1}}{\Delta x^2} + O(\Delta x^2)
\]
\end{mathfoundation}

\subsection{Stability Analysis}

Understanding numerical stability is critical for robust simulation.

\begin{keyconcept}
\textbf{CFL Condition:} For explicit advection, the time step must satisfy:
\[
\Delta t \leq \frac{\Delta x}{|\mathbf{u}|_{\max}}
\]

This ensures information does not propagate more than one cell per time step.
\end{keyconcept}

\subsection{Interpolation Methods}

Accurate interpolation is essential for particle-grid transfers and semi-Lagrangian advection.

\begin{itemize}
    \item \textbf{Nearest neighbor}: Fast, discontinuous, zeroth-order accurate
    \item \textbf{Bilinear/trilinear}: Standard choice, first-order accurate, $C^0$ continuous
    \item \textbf{Bicubic/tricubic}: Higher accuracy, smoother, more expensive
    \item \textbf{B-spline}: Smooth, tunable support width
    \item \textbf{Catmull-Rom}: Interpolating cubic spline, passes through data points
\end{itemize}

\section{Module Assessment}

\begin{assessment}
\textbf{Mathematical Foundations Assessment:}
\begin{enumerate}
    \item \textbf{Written Exam} (40\%): Derivations, physical interpretation of equations, stability analysis
    \item \textbf{Implementation Portfolio} (40\%): Exercises 2.1--2.2 with documentation
    \item \textbf{Technical Report} (20\%): Analysis of numerical method properties for a specific fluid simulation scenario
\end{enumerate}

\textbf{Minimum Passing Criteria:}
\begin{itemize}
    \item Demonstrate correct gradient/divergence/curl computations
    \item Successfully implement at least two linear system solvers
    \item Articulate stability constraints for explicit time stepping
\end{itemize}
\end{assessment}

% ============================================================================
% CHAPTER 3: PHASE 1 - FOUNDATIONS & VISUAL INTUITION
% ============================================================================
\chapter{Phase 1: Foundations \& Visual Intuition}

\section{Phase Overview}

Phase 1 establishes the conceptual foundation for fluid simulation using Jos Stam's \textit{The Art of Fluid Animation} as the primary text. The goal is to develop visual intuition, understand historical context, and identify specific target effects before diving into implementation details.

\begin{center}
\begin{tabular}{ll}
\toprule
\textbf{Duration} & 6 weeks \\
\textbf{Primary Text} & The Art of Fluid Animation (Stam) \\
\textbf{Contact Hours} & 90 hours \\
\textbf{Focus} & Intuition, visualization, effect identification \\
\bottomrule
\end{tabular}
\end{center}

\section{Week 1--2: Historical Context and Physical Principles}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 2, students will:
\begin{itemize}
    \item Trace the evolution of fluid animation techniques in computer graphics
    \item Distinguish between purely procedural, physics-inspired, and physics-based approaches
    \item Identify key visual characteristics of water, smoke, and fire motion
    \item Recognize the contributions of seminal papers (Stam's Stable Fluids, Foster \& Metaxas, etc.)
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{History of Fluid Animation}

The field of fluid animation evolved through distinct eras, each with characteristic techniques and limitations. Understanding this evolution provides context for why current methods exist.

\textbf{Pre-simulation Era (1970s--1980s):} Artists relied on procedural techniques---hand-crafted mathematical functions that produced fluid-like motion without solving physical equations. Examples include noise-based turbulence and parametric wave functions.

\textbf{Early Physics-Based Approaches (Late 1980s--1990s):} Researchers began solving simplified fluid equations, often with severe resolution and stability limitations. Nick Foster and Dimitri Metaxas's work on 3D liquids and Jos Stam's ``Stable Fluids'' paper marked turning points.

\textbf{Modern Production Era (2000s--Present):} The combination of unconditionally stable semi-Lagrangian advection, efficient pressure solvers, and level set surface tracking enabled feature film applications. Subsequent developments in FLIP/PIC methods, adaptive resolution, and GPU acceleration continue to advance the field.

\subsubsection{Visual Analysis of Fluid Motion}

Students analyze reference footage to identify key motion characteristics.

\textbf{Water characteristics:}
\begin{itemize}
    \item Surface tension effects at small scales (meniscus, droplet formation)
    \item Wave propagation and refraction
    \item Splashing, spray, and foam generation
    \item Reflections, refractions, and caustics (rendering-related)
\end{itemize}

\textbf{Smoke/air characteristics:}
\begin{itemize}
    \item Buoyancy-driven rising motion
    \item Vortex formation and rollup
    \item Turbulent cascade (large eddies breaking into smaller ones)
    \item Dissipation and diffusion over time
\end{itemize}

\textbf{Fire characteristics:}
\begin{itemize}
    \item Temperature-dependent buoyancy
    \item Fuel consumption and reaction zones
    \item Flickering and turbulent flame structure
    \item Coupling between combustion chemistry and fluid motion
\end{itemize}

\begin{practicalexercise}
\textbf{Exercise 3.1: Reference Analysis Portfolio}\\
Compile and analyze reference footage for three fluid phenomena:
\begin{enumerate}
    \item Collect 5+ video references for each: water (ocean waves, splashes, droplets), smoke (cigarette smoke, industrial exhaust, fog), fire (candles, bonfires, explosions)
    \item Create frame-by-frame breakdowns of key motion features
    \item Identify which features would be critical for believability
    \item Note which features might be ``cheatable'' vs. requiring accurate simulation
\end{enumerate}
\textbf{Deliverable:} Annotated reference portfolio with visual analysis notes.
\end{practicalexercise}

\subsection{Reading Assignments}

\begin{itemize}
    \item Stam, Chapters 1--3: Introduction, history, and physical principles
    \item Original paper: ``Stable Fluids'' (Stam, SIGGRAPH 1999)
    \item Survey paper: ``Fluid Simulation for Computer Animation'' (Bridson \& M\"{u}ller, SIGGRAPH Course)
\end{itemize}

\section{Week 3--4: Core Simulation Concepts}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 4, students will:
\begin{itemize}
    \item Explain the role of advection, pressure, and external forces in fluid motion
    \item Describe semi-Lagrangian advection and its stability properties
    \item Understand the pressure projection concept for incompressibility
    \item Recognize trade-offs between accuracy and stability in visual applications
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{The Operator Splitting Approach}

Stam's Stable Fluids method introduced the operator splitting approach that became standard in graphics.

\begin{keyconcept}
\textbf{Operator Splitting:} Rather than solving the full Navier-Stokes equations simultaneously, split the update into sequential steps:
\begin{enumerate}
    \item Apply external forces (gravity, user input)
    \item Advect quantities along the velocity field
    \item Apply diffusion (viscosity) if desired
    \item Project to enforce incompressibility
\end{enumerate}

Each step uses methods appropriate for that operator's mathematical structure.
\end{keyconcept}

\subsubsection{Semi-Lagrangian Advection}

The key insight enabling stable simulation was semi-Lagrangian advection.

\textbf{Traditional Eulerian approach:} Compute derivatives at fixed grid points, often leading to instability when time steps exceed CFL limits.

\textbf{Semi-Lagrangian approach:} For each grid point, trace backward along the velocity field to find where the fluid ``came from,'' then interpolate the quantity at that source location. Unconditionally stable regardless of time step.

\textbf{Trade-off:} Stability comes at the cost of numerical diffusion (artificial smoothing). Larger time steps increase diffusion but never cause instability.

\subsubsection{Pressure Projection}

Pressure projection enforces the incompressibility constraint $\nabla \cdot \mathbf{u} = 0$.

\textbf{Physical interpretation:} Pressure acts as a Lagrange multiplier that instantly adjusts velocities to prevent compression or expansion.

\textbf{Mathematical formulation:} 
\begin{enumerate}
    \item Given a velocity field $\mathbf{u}^*$ with non-zero divergence
    \item Solve the pressure Poisson equation: $\nabla^2 p = \frac{\rho}{\Delta t} \nabla \cdot \mathbf{u}^*$
    \item Update velocity: $\mathbf{u} = \mathbf{u}^* - \frac{\Delta t}{\rho} \nabla p$
\end{enumerate}

\begin{practicalexercise}
\textbf{Exercise 3.2: 2D Stable Fluids Prototype}\\
Implement a minimal 2D ``Stable Fluids'' simulation in Python:
\begin{enumerate}
    \item Create a grid representation for velocity and density
    \item Implement semi-Lagrangian advection with bilinear interpolation
    \item Implement Gauss-Seidel pressure solver
    \item Add mouse interaction for applying forces
    \item Visualize with Matplotlib or similar
\end{enumerate}
\textbf{Goal:} Interactive smoke-like visualization responding to user input.\\
\textbf{Deliverable:} Working Python implementation with video demonstration.
\end{practicalexercise}

\subsection{Reading Assignments}

\begin{itemize}
    \item Stam, Chapters 4--6: Advection, diffusion, and projection
    \item Supplementary: ``Real-Time Fluid Dynamics for Games'' (Stam, GDC 2003)
\end{itemize}

\section{Week 5--6: Visual Effects and Artistic Control}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 6, students will:
\begin{itemize}
    \item Apply techniques for enhancing visual richness (vorticity confinement, noise injection)
    \item Understand methods for artistic control of simulations
    \item Distinguish grid-based from particle-based approaches at a conceptual level
    \item Evaluate which simulation approach suits specific visual targets
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{Vorticity Confinement}

Semi-Lagrangian advection's numerical diffusion tends to smooth out small-scale rotational motion. Vorticity confinement artificially re-introduces energy at small scales.

\textbf{Method:} Compute the vorticity field $\boldsymbol{\omega} = \nabla \times \mathbf{u}$, identify the direction vorticity should be amplified, and add a corrective force proportional to vorticity magnitude.

\textbf{Effect:} Preserves swirling, turbulent detail that would otherwise dissipate.

\subsubsection{Turbulence and Noise Injection}

For effects like fire and explosions, additional procedural turbulence enhances visual complexity.

\textbf{Techniques:}
\begin{itemize}
    \item Curl noise: Divergence-free noise fields added to velocity
    \item Spectral turbulence: Frequency-based energy injection
    \item Wavelet turbulence: Multi-scale noise synthesis
\end{itemize}

\subsubsection{Grid vs. Particle Approaches}

Stam provides intuition for when each approach excels.

\begin{watertrack}
\textbf{Water Simulation Considerations:}
\begin{itemize}
    \item Free surfaces require tracking the water/air boundary
    \item Level sets (grid-based) or particle surfaces common for bulk water
    \item Spray, foam, and bubbles often use secondary particle systems
    \item Splashes and thin sheets challenge both approaches
\end{itemize}
\end{watertrack}

\begin{airtrack}
\textbf{Air/Smoke Simulation Considerations:}
\begin{itemize}
    \item No sharp boundary---smoke is a density field advected by velocity
    \item Grid-based methods natural for volumetric rendering
    \item Buoyancy and temperature coupling important for realism
    \item Vortex methods can capture rotational detail efficiently
\end{itemize}
\end{airtrack}

\begin{practicalexercise}
\textbf{Exercise 3.3: Enhanced Smoke Simulation}\\
Extend Exercise 3.2 to include:
\begin{enumerate}
    \item Vorticity confinement with tunable strength parameter
    \item Buoyancy force based on temperature field
    \item Curl noise perturbation for added turbulence
    \item Interactive control of effect strength
\end{enumerate}
Compare visual quality with and without enhancements.\\
\textbf{Deliverable:} Side-by-side video comparison with parameter exploration.
\end{practicalexercise}

\subsection{Phase 1 Project: Effect Target Document}

\begin{practicalexercise}
\textbf{Phase 1 Capstone: Visual Target Specification}\\
Produce a comprehensive document specifying the fluid effect you intend to implement throughout the curriculum:
\begin{enumerate}
    \item Reference footage collection with frame-by-frame analysis
    \item Identification of critical visual features
    \item Assessment of which features require physically-accurate simulation vs. can be achieved with cheaper approximations
    \item Initial technology choices (grid-based, particle-based, hybrid)
    \item Performance targets (real-time, interactive, offline)
    \item Success criteria with visual examples
\end{enumerate}
\textbf{Deliverable:} 10--15 page technical specification document.
\end{practicalexercise}

\section{Phase 1 Assessment}

\begin{assessment}
\textbf{Phase 1 Assessment Components:}
\begin{enumerate}
    \item \textbf{Reference Portfolio} (20\%): Exercise 3.1
    \item \textbf{Python Prototype} (30\%): Exercises 3.2 and 3.3
    \item \textbf{Written Analysis} (20\%): Short essay comparing simulation approaches for a specific effect
    \item \textbf{Visual Target Document} (30\%): Phase 1 Capstone
\end{enumerate}

\textbf{Advancement Criteria:}
\begin{itemize}
    \item Working 2D simulation prototype with interactive forces
    \item Clear articulation of operator splitting approach
    \item Thoughtful visual target specification for Phase 2--5 work
\end{itemize}
\end{assessment}

% ============================================================================
% CHAPTER 4: PHASE 2 - ENGINE DEVELOPMENT
% ============================================================================
\chapter{Phase 2: Engine Development}

\section{Phase Overview}

Phase 2 transforms conceptual understanding into working code through systematic construction of a fluid simulation engine. Following Doyub Kim's \textit{Fluid Engine Development}, students build production-quality implementations of core algorithms.

\begin{center}
\begin{tabular}{ll}
\toprule
\textbf{Duration} & 10 weeks \\
\textbf{Primary Text} & Fluid Engine Development (Kim) \\
\textbf{Contact Hours} & 200 hours \\
\textbf{Focus} & C++ implementation, engine architecture, testing \\
\bottomrule
\end{tabular}
\end{center}

\section{Week 7--8: Engine Architecture and Data Structures}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 8, students will:
\begin{itemize}
    \item Design extensible data structures for scalar and vector fields
    \item Implement efficient grid representations with accessor patterns
    \item Create particle system infrastructure with spatial hashing
    \item Establish testing frameworks for numerical correctness
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{Grid Data Structures}

Efficient grid representations are fundamental to performance.

\textbf{Layout considerations:}
\begin{itemize}
    \item 1D array with index mapping vs. nested containers
    \item Row-major vs. column-major ordering for cache efficiency
    \item Staggered grids (MAC grids) for velocity storage
    \item Boundary condition handling strategies
\end{itemize}

\textbf{MAC Grid Layout:}

The Marker-and-Cell (MAC) grid stores velocity components at cell faces rather than cell centers, providing natural locations for flux computations.

\begin{verbatim}
+-------+-------+-------+
|       |       |       |
|   P   u   P   u   P   |  <- u stored at vertical faces
|       |       |       |
+---v---+---v---+---v---+
|       |       |       |  <- v stored at horizontal faces
|   P   u   P   u   P   |
|       |       |       |  <- P (pressure, density) at centers
+---v---+---v---+---v---+
\end{verbatim}

\subsubsection{Particle Data Structures}

Particle systems require efficient neighbor queries and attribute storage.

\textbf{Spatial acceleration:}
\begin{itemize}
    \item Uniform grid hashing: $O(1)$ neighbor queries for uniform distributions
    \item Spatial hashing: Memory-efficient for sparse particle distributions
    \item kD-trees: Adaptive to non-uniform distributions, $O(\log n)$ queries
    \item Point octrees: 3D analog of quadtrees, adaptive resolution
\end{itemize}

\textbf{Particle attributes:}
\begin{itemize}
    \item Position, velocity (required)
    \item Mass, density (for SPH-style methods)
    \item Temperature, lifetime (for effects)
    \item Custom attributes for specific applications
\end{itemize}

\begin{practicalexercise}
\textbf{Exercise 4.1: Core Data Structure Implementation}\\
Implement the foundational data structures:
\begin{enumerate}
    \item \texttt{ScalarGrid2}/\texttt{ScalarGrid3}: 2D/3D scalar field storage with:
    \begin{itemize}
        \item Configurable resolution and spacing
        \item Bilinear/trilinear interpolation
        \item Gradient and Laplacian computation
    \end{itemize}
    \item \texttt{FaceCenteredGrid2}/\texttt{FaceCenteredGrid3}: MAC grid for velocity
    \begin{itemize}
        \item Separate storage for each velocity component
        \item Interpolation to arbitrary positions
        \item Divergence and curl computation
    \end{itemize}
    \item \texttt{ParticleSystem}: Dynamic particle container
    \begin{itemize}
        \item Efficient addition and removal
        \item Spatial hashing for neighbor queries
        \item Parallel iteration support
    \end{itemize}
\end{enumerate}
\textbf{Deliverable:} C++ implementation with unit tests achieving 100\% branch coverage.
\end{practicalexercise}

\subsection{Reading Assignments}

\begin{itemize}
    \item Kim, Chapters 1--4: Introduction, vectors, matrices, and grids
    \item Supplementary: Review of C++ best practices for numerical computing
\end{itemize}

\section{Week 9--11: Grid-Based Fluid Simulation}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 11, students will:
\begin{itemize}
    \item Implement complete Eulerian fluid simulation pipeline
    \item Build robust pressure solvers with various preconditioning strategies
    \item Handle solid boundary conditions correctly
    \item Create smoke and single-phase water simulations
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{Advection Implementation}

Building on Phase 1 concepts, implement robust advection.

\textbf{Semi-Lagrangian advection pipeline:}
\begin{enumerate}
    \item For each grid point, compute backtraced position: $\mathbf{x}_{prev} = \mathbf{x} - \Delta t \cdot \mathbf{u}(\mathbf{x})$
    \item Clamp to valid domain or handle appropriately
    \item Interpolate quantity at $\mathbf{x}_{prev}$
    \item Store in new buffer (double buffering required)
\end{enumerate}

\textbf{Higher-order tracing:}
\begin{itemize}
    \item Midpoint method (RK2): Improved accuracy with modest cost
    \item Fourth-order Runge-Kutta (RK4): Higher accuracy for complex flows
    \item BFECC (Back and Forth Error Compensation and Correction): Reduces diffusion
    \item MacCormack: Two-step predictor-corrector approach
\end{itemize}

\subsubsection{Pressure Solver Implementation}

The pressure solve typically dominates computation time.

\textbf{System construction:}
\begin{enumerate}
    \item Compute divergence of intermediate velocity field
    \item Build sparse matrix $A$ from Laplacian stencil
    \item Handle boundary conditions (Neumann for solid walls, Dirichlet for free surfaces)
    \item Solve $A \mathbf{p} = \mathbf{b}$ using iterative method
\end{enumerate}

\textbf{Solver options:}
\begin{itemize}
    \item Conjugate Gradient with Incomplete Cholesky preconditioning
    \item Multigrid methods for optimal complexity
    \item GPU-accelerated solvers (later modules)
\end{itemize}

\subsubsection{Boundary Conditions}

Correct boundary handling is critical for realism.

\textbf{Solid boundaries:}
\begin{itemize}
    \item No-penetration: Normal velocity component equals solid velocity
    \item No-slip: Tangential velocity matches solid (viscous fluids)
    \item Free-slip: Zero tangential stress (inviscid approximation)
\end{itemize}

\textbf{Free surfaces:}
\begin{itemize}
    \item Dirichlet pressure: $p = p_{atm}$ at surface
    \item Requires tracking surface location (Phase 2 covers simple approaches)
\end{itemize}

\begin{practicalexercise}
\textbf{Exercise 4.2: Grid-Based Smoke Simulator}\\
Implement a complete 3D smoke simulator:
\begin{enumerate}
    \item Build simulation loop: advect $\rightarrow$ add forces $\rightarrow$ project
    \item Implement buoyancy force based on temperature
    \item Add vorticity confinement
    \item Create smoke source with constant density injection
    \item Implement volume rendering for visualization
\end{enumerate}
\textbf{Test cases:}
\begin{itemize}
    \item Smoke rising in still air
    \item Smoke interacting with solid obstacles
    \item Multiple smoke sources with different temperatures
\end{itemize}
\textbf{Deliverable:} Working 3D simulator with video output.
\end{practicalexercise}

\section{Week 12--14: Particle-Based Methods}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 14, students will:
\begin{itemize}
    \item Implement Smoothed Particle Hydrodynamics (SPH) for fluid simulation
    \item Understand kernel functions and their properties
    \item Handle particle-based incompressibility enforcement
    \item Create interactive liquid simulations
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{SPH Fundamentals}

SPH represents fluid as moving particles, each carrying physical quantities.

\textbf{Kernel approximation:}
\[
A(\mathbf{x}) \approx \sum_j \frac{m_j}{\rho_j} A_j W(\mathbf{x} - \mathbf{x}_j, h)
\]

where $W$ is a smoothing kernel with support radius $h$.

\textbf{Common kernels:}
\begin{itemize}
    \item Poly6: Good for density estimation
    \item Spiky: Better gradient behavior for pressure
    \item Viscosity kernel: Designed for stable viscosity computation
\end{itemize}

\subsubsection{Weakly Compressible SPH (WCSPH)}

The simplest SPH approach uses an equation of state for pressure.

\textbf{Method:}
\begin{enumerate}
    \item Compute density from neighbor contributions
    \item Calculate pressure from equation of state: $p = k(\rho - \rho_0)$ or $p = k[(\rho/\rho_0)^\gamma - 1]$
    \item Compute pressure and viscosity forces
    \item Integrate particle positions and velocities
\end{enumerate}

\textbf{Challenges:} Requires small time steps; density fluctuations cause visual artifacts.

\subsubsection{Incompressible SPH Variants}

More sophisticated approaches enforce incompressibility directly.

\textbf{PCISPH (Predictive-Corrective Incompressible SPH):} Iteratively adjusts pressures to achieve target density.

\textbf{IISPH (Implicit Incompressible SPH):} Solves pressure implicitly for larger time steps.

\textbf{DFSPH (Divergence-Free SPH):} Enforces both density and divergence constraints.

\begin{practicalexercise}
\textbf{Exercise 4.3: SPH Liquid Simulator}\\
Implement a 2D SPH simulator:
\begin{enumerate}
    \item Create particle initialization in rectangular domain
    \item Implement neighbor search using spatial hashing
    \item Compute density and pressure using Poly6 and Spiky kernels
    \item Implement pressure and viscosity forces
    \item Add gravity and boundary handling
    \item Visualize particles with metaball-style rendering (optional)
\end{enumerate}
\textbf{Test cases:}
\begin{itemize}
    \item Dam break scenario
    \item Dropping a block of water
    \item Water sloshing in a container
\end{itemize}
\textbf{Deliverable:} Working 2D SPH simulator with parameter exploration.
\end{practicalexercise}

\section{Week 15--16: Hybrid Methods (FLIP/PIC)}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 16, students will:
\begin{itemize}
    \item Understand the motivation for hybrid particle-grid methods
    \item Implement PIC (Particle-in-Cell) and FLIP transfers
    \item Combine the best properties of grid and particle representations
    \item Create production-quality liquid simulations
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{PIC and FLIP Overview}

Hybrid methods use particles for advection (no numerical diffusion) and grids for pressure projection (efficient linear solves).

\textbf{PIC (Particle-in-Cell):}
\begin{enumerate}
    \item Transfer particle velocities to grid (P2G)
    \item Solve pressure on grid, update grid velocities
    \item Interpolate new velocities back to particles (G2P)
    \item Advect particles
\end{enumerate}

Problem: G2P transfer introduces smoothing (same as semi-Lagrangian diffusion).

\textbf{FLIP (Fluid Implicit Particle):}
\begin{enumerate}
    \item Transfer particle velocities to grid (P2G)
    \item Store copy of pre-projection grid velocities
    \item Solve pressure, update grid
    \item Transfer \textit{velocity change} to particles: $\mathbf{u}_p^{new} = \mathbf{u}_p^{old} + (\mathbf{u}_g^{new} - \mathbf{u}_g^{old})$
\end{enumerate}

Advantage: Particles retain their own velocity information, avoiding diffusion.

\textbf{PIC/FLIP Blending:}
\[
\mathbf{u}_p = (1-\alpha) \cdot \mathbf{u}_{PIC} + \alpha \cdot \mathbf{u}_{FLIP}
\]

Typical $\alpha = 0.95$--$0.99$; small PIC component adds stability.

\subsubsection{Transfer Operators}

The quality of particle-grid transfers significantly impacts results.

\textbf{Particle to Grid (P2G):}
\begin{itemize}
    \item Scatter particle contributions using kernel weights
    \item Trilinear interpolation weights common
    \item Higher-order B-spline kernels for smoother transfers
    \item APIC (Affine PIC) transfers additional angular momentum
\end{itemize}

\textbf{Grid to Particle (G2P):}
\begin{itemize}
    \item Gather grid values at particle positions
    \item Same interpolation kernel as P2G for consistency
\end{itemize}

\subsubsection{Surface Tracking}

For free-surface liquids, tracking the surface is essential.

\textbf{Particle-based approaches:}
\begin{itemize}
    \item Implicit surface from particle positions (e.g., Zhu-Bridson method)
    \item Marching cubes or dual contouring for mesh extraction
\end{itemize}

\textbf{Level set coupling:}
\begin{itemize}
    \item Signed distance function advected on grid
    \item Particles correct level set where it drifts
    \item Combines smooth surfaces with volume preservation
\end{itemize}

\begin{practicalexercise}
\textbf{Exercise 4.4: FLIP Liquid Simulator}\\
Implement a complete 3D FLIP liquid simulator:
\begin{enumerate}
    \item Create particle seeding and grid infrastructure
    \item Implement P2G transfer with trilinear weights
    \item Use existing pressure solver from Exercise 4.2
    \item Implement FLIP velocity update (or PIC/FLIP blend)
    \item Add particle reseeding to maintain coverage
    \item Implement surface extraction using marching cubes
\end{enumerate}
\textbf{Test cases:}
\begin{itemize}
    \item 3D dam break
    \item Water pouring into a container
    \item Wave tank simulation
\end{itemize}
\textbf{Deliverable:} Production-quality FLIP simulator with mesh output.
\end{practicalexercise}

\section{Phase 2 Assessment}

\begin{assessment}
\textbf{Phase 2 Assessment Components:}
\begin{enumerate}
    \item \textbf{Data Structure Implementation} (20\%): Exercise 4.1 with complete test coverage
    \item \textbf{Grid Simulator} (25\%): Exercise 4.2 with performance analysis
    \item \textbf{SPH Implementation} (25\%): Exercise 4.3 with stability analysis
    \item \textbf{FLIP Implementation} (30\%): Exercise 4.4 with visual quality assessment
\end{enumerate}

\textbf{Code Quality Criteria:}
\begin{itemize}
    \item Clean separation of concerns following engine patterns
    \item Comprehensive unit test coverage
    \item Performance profiling and documented optimization decisions
    \item Clear documentation of algorithm choices
\end{itemize}

\textbf{Advancement Criteria:}
\begin{itemize}
    \item Working implementations of both grid and particle methods
    \item Demonstrated understanding of FLIP hybrid approach
    \item Engine architecture supporting future extensions
\end{itemize}
\end{assessment}

% ============================================================================
% CHAPTER 5: PHASE 3 - ADVANCED THEORY & NUMERICS
% ============================================================================
\chapter{Phase 3: Advanced Theory \& Numerics}

\section{Phase Overview}

Phase 3 deepens theoretical understanding using Robert Bridson's \textit{Fluid Simulation for Computer Graphics}. Students learn the mathematical foundations that enable robust, production-quality simulations and the techniques to extend basic implementations.

\begin{center}
\begin{tabular}{ll}
\toprule
\textbf{Duration} & 8 weeks \\
\textbf{Primary Text} & Fluid Simulation for Computer Graphics (Bridson) \\
\textbf{Contact Hours} & 160 hours \\
\textbf{Focus} & Mathematical rigor, advanced algorithms, optimization \\
\bottomrule
\end{tabular}
\end{center}

\section{Week 17--18: Advection Methods Deep Dive}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 18, students will:
\begin{itemize}
    \item Analyze truncation error and numerical diffusion in advection schemes
    \item Implement higher-order advection methods (MacCormack, BFECC)
    \item Understand monotonicity and limiters for avoiding overshoots
    \item Evaluate advection quality metrics
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{Error Analysis of Semi-Lagrangian Methods}

Bridson provides rigorous analysis of semi-Lagrangian behavior.

\textbf{Sources of error:}
\begin{itemize}
    \item Interpolation error (depends on interpolation order and field smoothness)
    \item Trajectory integration error (depends on ODE solver order)
    \item Temporal error from operator splitting
\end{itemize}

\textbf{Numerical diffusion:} Semi-Lagrangian advection acts as low-pass filter, smoothing high-frequency content proportional to:
\[
\text{Diffusion} \propto \Delta x^2 / \Delta t
\]

This explains why larger time steps (more stable) cause more diffusion.

\subsubsection{MacCormack Method}

MacCormack advection reduces diffusion through a predictor-corrector approach.

\textbf{Algorithm:}
\begin{enumerate}
    \item Forward advection: $\tilde{\phi}^{n+1} = A(\phi^n)$ (advect forward)
    \item Backward advection: $\tilde{\phi}^n = A^{-1}(\tilde{\phi}^{n+1})$ (advect backward)
    \item Error estimate: $e = \frac{1}{2}(\phi^n - \tilde{\phi}^n)$
    \item Corrected result: $\phi^{n+1} = \tilde{\phi}^{n+1} + e$
    \item Clamp to valid range to prevent overshoots
\end{enumerate}

\subsubsection{BFECC}

Back and Forth Error Compensation and Correction provides similar benefits.

\textbf{Key insight:} Apply the error correction symmetrically to both forward and backward passes for improved stability.

\begin{practicalexercise}
\textbf{Exercise 5.1: Advection Method Comparison}\\
Implement and compare advection methods:
\begin{enumerate}
    \item Set up analytical test cases (solid body rotation, deformation field)
    \item Implement semi-Lagrangian, MacCormack, and BFECC advection
    \item Measure L1, L2, and L$\infty$ errors over multiple revolutions
    \item Analyze conservation properties (mass, variance)
    \item Profile computational cost per method
\end{enumerate}
\textbf{Deliverable:} Technical report with convergence plots and recommendations.
\end{practicalexercise}

\section{Week 19--20: Pressure Solvers and Preconditioning}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 20, students will:
\begin{itemize}
    \item Implement production-quality pressure solvers
    \item Understand and implement various preconditioners
    \item Handle challenging boundary configurations
    \item Optimize solver performance for large grids
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{Conjugate Gradient Analysis}

CG is the standard solver for symmetric positive definite systems.

\textbf{Convergence rate:} Depends on condition number $\kappa(A)$:
\[
\|e_k\| \leq 2 \left( \frac{\sqrt{\kappa} - 1}{\sqrt{\kappa} + 1} \right)^k \|e_0\|
\]

For Poisson problems on grids, $\kappa \sim O(1/h^2)$, leading to slow convergence on fine grids.

\subsubsection{Preconditioning Strategies}

Preconditioning transforms the system to have better conditioning.

\textbf{Incomplete Cholesky:}
\begin{itemize}
    \item Compute approximate Cholesky factorization with limited fill-in
    \item Good general-purpose preconditioner
    \item IC(0): No fill-in beyond original sparsity pattern
    \item MIC(0): Modified IC with row-sum preservation
\end{itemize}

\textbf{Multigrid methods:}
\begin{itemize}
    \item Hierarchical approach using coarse grids to accelerate convergence
    \item V-cycle, W-cycle, and F-cycle variants
    \item Geometric multigrid: Uses problem geometry
    \item Algebraic multigrid: Constructs hierarchy from matrix alone
    \item Optimal $O(n)$ complexity for well-posed problems
\end{itemize}

\subsubsection{Variable Density and Free Surfaces}

Real simulations require handling variable-coefficient problems.

\textbf{Variable density pressure equation:}
\[
\nabla \cdot \left( \frac{1}{\rho} \nabla p \right) = \frac{1}{\Delta t} \nabla \cdot \mathbf{u}^*
\]

\textbf{Ghost fluid method:} For free surfaces, extrapolate pressure across interface using jump conditions.

\begin{practicalexercise}
\textbf{Exercise 5.2: Advanced Pressure Solver}\\
Upgrade the pressure solver from Phase 2:
\begin{enumerate}
    \item Implement Modified Incomplete Cholesky preconditioner
    \item Add support for variable-density pressure solve
    \item Implement ghost fluid method for free surfaces
    \item (Advanced) Implement geometric multigrid V-cycle
    \item Benchmark performance: iteration count, time per solve
\end{enumerate}
\textbf{Deliverable:} Updated solver with comprehensive benchmarks.
\end{practicalexercise}

\section{Week 21--22: Level Sets and Surface Tracking}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 22, students will:
\begin{itemize}
    \item Implement level set methods for interface tracking
    \item Handle reinitialization to maintain signed distance property
    \item Couple level sets with pressure solver for free surface flows
    \item Address volume loss through correction techniques
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{Level Set Fundamentals}

A level set represents a surface as the zero contour of a signed distance function.

\textbf{Signed distance function:}
\[
\phi(\mathbf{x}) = \begin{cases}
-d(\mathbf{x}, \Gamma) & \mathbf{x} \text{ inside} \\
0 & \mathbf{x} \text{ on surface } \Gamma \\
+d(\mathbf{x}, \Gamma) & \mathbf{x} \text{ outside}
\end{cases}
\]

\textbf{Properties:} $|\nabla \phi| = 1$ everywhere (signed distance property).

\subsubsection{Level Set Advection}

Advect $\phi$ by solving:
\[
\frac{\partial \phi}{\partial t} + \mathbf{u} \cdot \nabla \phi = 0
\]

\textbf{Challenge:} Advection distorts the field, violating $|\nabla \phi| = 1$.

\subsubsection{Reinitialization}

Restore signed distance property without moving the zero contour.

\textbf{PDE-based approach:}
\[
\frac{\partial \phi}{\partial \tau} = \text{sign}(\phi_0)(1 - |\nabla \phi|)
\]

Evolve in pseudo-time $\tau$ until convergence.

\textbf{Fast marching method:} Efficiently construct signed distance from zero level set.

\subsubsection{Particle Level Sets}

Combine level sets with particles to combat volume loss.

\textbf{Method:}
\begin{itemize}
    \item Place particles near interface (both inside and outside)
    \item Advect particles and level set independently
    \item Use particle positions to detect and correct level set errors
    \item Particularly effective for thin features
\end{itemize}

\begin{practicalexercise}
\textbf{Exercise 5.3: Level Set Implementation}\\
Implement complete level set surface tracking:
\begin{enumerate}
    \item Create signed distance field initialization
    \item Implement ENO/WENO advection for level set
    \item Add reinitialization using fast marching
    \item Couple with pressure solver using ghost fluid
    \item Measure volume over time, implement correction if needed
    \item (Advanced) Implement particle level set enhancement
\end{enumerate}
\textbf{Test case:} Enright deformation test (reversing velocity field).\\
\textbf{Deliverable:} Level set implementation with volume conservation analysis.
\end{practicalexercise}

\section{Week 23--24: Viscosity and Boundary Layers}

\subsection{Learning Objectives}

\begin{learningobjectives}
By the end of Week 24, students will:
\begin{itemize}
    \item Implement stable viscosity integration methods
    \item Handle high-viscosity fluids (honey, lava)
    \item Model boundary layers and no-slip conditions
    \item Balance physical accuracy with computational cost
\end{itemize}
\end{learningobjectives}

\subsection{Topics Covered}

\subsubsection{Viscosity Discretization}

For low viscosity (water), explicit methods suffice. High viscosity requires implicit treatment.

\textbf{Explicit viscosity:}
\[
\mathbf{u}^{n+1} = \mathbf{u}^n + \Delta t \nu \nabla^2 \mathbf{u}^n
\]

Stability constraint: $\Delta t < \frac{\Delta x^2}{2 \nu d}$ (very restrictive for high $\nu$).

\textbf{Implicit viscosity:}
\[
(I - \Delta t \nu \nabla^2) \mathbf{u}^{n+1} = \mathbf{u}^n
\]

Unconditionally stable but requires solving linear system.

\subsubsection{Variable Viscosity}

Non-Newtonian fluids have viscosity that varies with strain rate.

\textbf{Examples:}
\begin{itemize}
    \item Shear-thinning (pseudoplastic): Viscosity decreases with strain rate (paint, ketchup)
    \item Shear-thickening (dilatant): Viscosity increases with strain rate (cornstarch and water)
    \item Viscoelastic: Exhibits both viscous and elastic behavior
\end{itemize}

\section{Phase 3 Assessment}

\begin{assessment}
\textbf{Phase 3 Assessment Components:}
\begin{enumerate}
    \item \textbf{Advection Analysis} (25\%): Exercise 5.1 with rigorous error analysis
    \item \textbf{Solver Implementation} (30\%): Exercise 5.2 with performance benchmarks
    \item \textbf{Level Set System} (30\%): Exercise 5.3 with volume conservation metrics
    \item \textbf{Written Examination} (15\%): Theoretical understanding of numerical methods
\end{enumerate}

\textbf{Advancement Criteria:}
\begin{itemize}
    \item Demonstrated understanding of convergence and stability analysis
    \item Working implementations of advanced numerical methods
    \item Ability to diagnose and address simulation artifacts
\end{itemize}
\end{assessment}

% ============================================================================
% CHAPTER 6: PHASE 4 - SPECIALIZATION TRACKS
% ============================================================================
\chapter{Phase 4: Specialization Tracks}

\section{Phase Overview}

Phase 4 allows students to focus on either water simulation or air/fire simulation, developing deep expertise in their chosen domain while applying all previously learned techniques.

\begin{center}
\begin{tabular}{ll}
\toprule
\textbf{Duration} & 6 weeks \\
\textbf{Contact Hours} & 120 hours \\
\textbf{Focus} & Domain-specific techniques and effects \\
\bottomrule
\end{tabular}
\end{center}

Students select one of two tracks based on their interests and Phase 1 visual targets.

\section{Track A: Water Simulation}

\begin{watertrack}
This track focuses on liquid simulation with free surfaces, including ocean rendering, splashes, and water-object interaction.
\end{watertrack}

\subsection{Week 25--26: Ocean and Wave Simulation}

\subsubsection{Topics Covered}

\textbf{FFT-based ocean surfaces:} Fast synthesis of tileable ocean displacement maps using spectral methods (Tessendorf model).

\textbf{Shallow water equations:} Simplified 2D equations for large-scale wave behavior.

\textbf{Wave-object interaction:} Coupling floating/moving objects with water simulation.

\begin{practicalexercise}
\textbf{Exercise 6A.1: Ocean Surface System}\\
Implement real-time ocean rendering:
\begin{enumerate}
    \item FFT-based displacement map generation
    \item Normal map computation for lighting
    \item Foam generation from wave breaking criteria
    \item Integration with existing rendering pipeline
\end{enumerate}
\end{practicalexercise}

\subsection{Week 27--28: Splashes and Secondary Effects}

\subsubsection{Topics Covered}

\textbf{Spray particle generation:} Spawning particles at high-velocity impacts and breaking waves.

\textbf{Foam and bubble simulation:} Advecting foam tracers, bubble buoyancy.

\textbf{Thin sheet handling:} Preventing premature breakup of water sheets.

\begin{practicalexercise}
\textbf{Exercise 6A.2: Complete Water System}\\
Extend FLIP simulator with secondary effects:
\begin{enumerate}
    \item Implement spray particle generation with velocity-based criteria
    \item Add foam simulation as surface-advected particles
    \item Create bubble system with buoyancy
    \item Tune parameters for visually appealing splashes
\end{enumerate}
\end{practicalexercise}

\subsection{Week 29--30: Advanced Surface Reconstruction}

\subsubsection{Topics Covered}

\textbf{Anisotropic kernel methods:} Improved surface extraction for thin features.

\textbf{Screen-space rendering:} Real-time water rendering techniques.

\textbf{Caustics and light transport:} Rendering effects for transparent water.

\section{Track B: Air, Smoke, and Fire Simulation}

\begin{airtrack}
This track focuses on gaseous phenomena including smoke, fire, and explosions, emphasizing turbulence and artistic control.
\end{airtrack}

\subsection{Week 25--26: Advanced Turbulence}

\subsubsection{Topics Covered}

\textbf{Turbulence modeling:} Kolmogorov cascade, energy spectrum.

\textbf{Vortex methods:} Vortex particles and filaments for efficient rotational flow capture.

\textbf{Wavelet turbulence:} Procedural detail enhancement for upresolution.

\begin{practicalexercise}
\textbf{Exercise 6B.1: Turbulence Enhancement}\\
Implement turbulence amplification:
\begin{enumerate}
    \item Spectral analysis of simulated velocity fields
    \item Wavelet-based detail synthesis
    \item Vortex particle injection for detail recovery
    \item A/B comparison of enhanced vs. base resolution
\end{enumerate}
\end{practicalexercise}

\subsection{Week 27--28: Fire and Combustion}

\subsubsection{Topics Covered}

\textbf{Combustion modeling:} Fuel, temperature, and reaction rate coupling.

\textbf{Blackbody radiation:} Temperature to color mapping.

\textbf{Explosions:} Rapidly expanding high-temperature regions.

\begin{practicalexercise}
\textbf{Exercise 6B.2: Fire Simulator}\\
Implement fire simulation:
\begin{enumerate}
    \item Add fuel field with consumption rate
    \item Implement temperature-based buoyancy
    \item Create combustion reaction zone
    \item Map temperature to emission color
    \item Add flickering through controlled noise
\end{enumerate}
\end{practicalexercise}

\subsection{Week 29--30: Artistic Control and Integration}

\subsubsection{Topics Covered}

\textbf{Target-driven simulation:} Guiding smoke to match reference shapes.

\textbf{Upresolution techniques:} Adding detail to coarse simulations.

\textbf{Rendering integration:} Efficient volume rendering for production.

\section{Phase 4 Assessment}

\begin{assessment}
\textbf{Track-Specific Assessment:}
\begin{enumerate}
    \item \textbf{Domain Project 1} (35\%): Exercises 6A.1/6B.1
    \item \textbf{Domain Project 2} (35\%): Exercises 6A.2/6B.2
    \item \textbf{Technical Documentation} (15\%): Algorithm choices and trade-off analysis
    \item \textbf{Visual Quality Assessment} (15\%): Comparison with reference footage
\end{enumerate}
\end{assessment}

% ============================================================================
% CHAPTER 7: PHASE 5 - CAPSTONE PROJECT
% ============================================================================
\chapter{Phase 5: Capstone Project}

\section{Phase Overview}

The capstone project demonstrates mastery through original implementation work that integrates skills from all previous phases.

\begin{center}
\begin{tabular}{ll}
\toprule
\textbf{Duration} & 6 weeks \\
\textbf{Contact Hours} & 150 hours \\
\textbf{Focus} & Integration, originality, professional quality \\
\bottomrule
\end{tabular}
\end{center}

\section{Project Requirements}

\subsection{Scope}

Capstone projects must demonstrate substantial original work beyond implementing existing algorithms. Projects should either extend the state of the art, combine techniques in novel ways, or achieve exceptional quality in a specific application.

\subsection{Example Project Directions}

\textbf{Real-time focus:}
\begin{itemize}
    \item GPU-accelerated FLIP solver achieving interactive rates
    \item VR/AR fluid interaction system
    \item Game-ready water system with full effects pipeline
\end{itemize}

\textbf{Quality focus:}
\begin{itemize}
    \item Production-quality ocean simulation for film
    \item Photoreal fire and explosion system
    \item Multi-phase simulation (e.g., boiling water, melting ice)
\end{itemize}

\textbf{Research focus:}
\begin{itemize}
    \item Novel boundary handling method
    \item Machine learning-enhanced simulation
    \item New hybrid method combining techniques
\end{itemize}

\section{Deliverables}

\begin{enumerate}
    \item \textbf{Project Proposal} (Week 31): Scope, timeline, success criteria
    \item \textbf{Progress Report} (Week 33): Intermediate results, challenges encountered
    \item \textbf{Final Implementation}: Complete, documented codebase
    \item \textbf{Technical Report} (20--30 pages): Algorithm descriptions, results, analysis
    \item \textbf{Video Demo} (3--5 minutes): Professional presentation of results
    \item \textbf{Oral Defense} (30 minutes): Presentation and Q\&A with evaluators
\end{enumerate}

\section{Evaluation Criteria}

\begin{assessment}
\textbf{Capstone Evaluation:}
\begin{enumerate}
    \item \textbf{Technical Depth} (30\%): Sophistication of implementation, algorithmic understanding
    \item \textbf{Originality} (20\%): Novel contributions beyond textbook implementations
    \item \textbf{Visual Quality} (20\%): Aesthetic quality of results
    \item \textbf{Documentation} (15\%): Code quality, technical report clarity
    \item \textbf{Presentation} (15\%): Communication of work and results
\end{enumerate}
\end{assessment}

% ============================================================================
% CHAPTER 8: RESOURCES AND REFERENCES
% ============================================================================
\chapter{Resources and References}

\section{Primary Texts}

\begin{enumerate}
    \item Bridson, R. (2015). \textit{Fluid Simulation for Computer Graphics} (2nd ed.). CRC Press.
    \item Kim, D. (2017). \textit{Fluid Engine Development}. CRC Press.
    \item Stam, J. (2015). \textit{The Art of Fluid Animation}. CRC Press.
\end{enumerate}

\section{Supplementary Texts}

\begin{enumerate}
    \item Chorin, A. J., \& Marsden, J. E. (2000). \textit{A Mathematical Introduction to Fluid Mechanics} (3rd ed.). Springer.
    \item Ferziger, J. H., \& Peri, M. (2002). \textit{Computational Methods for Fluid Dynamics} (3rd ed.). Springer.
    \item Trottenberg, U., Oosterlee, C. W., \& Schller, A. (2001). \textit{Multigrid}. Academic Press.
    \item Pharr, M., Jakob, W., \& Humphreys, G. (2016). \textit{Physically Based Rendering} (3rd ed.). Morgan Kaufmann.
\end{enumerate}

\section{Key Papers}

\subsection{Foundational}

\begin{itemize}
    \item Stam, J. (1999). Stable Fluids. \textit{SIGGRAPH}.
    \item Foster, N., \& Metaxas, D. (1996). Realistic Animation of Liquids. \textit{Graphics Interface}.
    \item Enright, D., Marschner, S., \& Fedkiw, R. (2002). Animation and Rendering of Complex Water Surfaces. \textit{SIGGRAPH}.
\end{itemize}

\subsection{Particle Methods}

\begin{itemize}
    \item Zhu, Y., \& Bridson, R. (2005). Animating Sand as a Fluid. \textit{SIGGRAPH}.
    \item Mller, M., Charypar, D., \& Gross, M. (2003). Particle-Based Fluid Simulation for Interactive Applications. \textit{SCA}.
    \item Brackbill, J. U., \& Ruppel, H. M. (1986). FLIP: A Method for Adaptively Zoned, Particle-in-Cell Calculations. \textit{Journal of Computational Physics}.
\end{itemize}

\subsection{Level Sets}

\begin{itemize}
    \item Osher, S., \& Fedkiw, R. (2003). \textit{Level Set Methods and Dynamic Implicit Surfaces}. Springer.
    \item Enright, D., Fedkiw, R., Ferziger, J., \& Mitchell, I. (2002). A Hybrid Particle Level Set Method for Improved Interface Capturing. \textit{Journal of Computational Physics}.
\end{itemize}

\section{Online Resources}

\begin{itemize}
    \item SIGGRAPH Course Notes on Fluid Simulation (various years)
    \item Robert Bridson's course materials: \url{https://www.cs.ubc.ca/~rbridson/}
    \item Doyub Kim's Fluid Engine Dev resources: \url{https://github.com/doyubkim/fluid-engine-dev}
    \item SideFX Houdini documentation for practical VFX techniques
\end{itemize}

\section{Software and Libraries}

\begin{itemize}
    \item OpenVDB: Sparse volume data structure library
    \item Eigen: C++ linear algebra library
    \item CUDA/OpenCL: GPU computing frameworks
    \item Houdini: Industry-standard VFX software for reference
    \item Blender: Open-source alternative with Mantaflow integration
\end{itemize}

% ============================================================================
% APPENDICES
% ============================================================================
\appendix

\chapter{Weekly Schedule Summary}

\begin{center}
\begin{longtable}{|c|l|l|p{5cm}|}
\hline
\textbf{Week} & \textbf{Phase} & \textbf{Topic} & \textbf{Key Deliverable} \\
\hline
\endfirsthead
\hline
\textbf{Week} & \textbf{Phase} & \textbf{Topic} & \textbf{Key Deliverable} \\
\hline
\endhead
1--2 & Phase 1 & History \& Physics & Reference portfolio \\
3--4 & Phase 1 & Core Concepts & Python prototype \\
5--6 & Phase 1 & Visual Effects & Visual target document \\
\hline
7--8 & Phase 2 & Data Structures & Core implementation \\
9--11 & Phase 2 & Grid Simulation & 3D smoke simulator \\
12--14 & Phase 2 & Particle Methods & SPH simulator \\
15--16 & Phase 2 & Hybrid (FLIP) & FLIP liquid simulator \\
\hline
17--18 & Phase 3 & Advection & Method comparison report \\
19--20 & Phase 3 & Pressure Solvers & Advanced solver \\
21--22 & Phase 3 & Level Sets & Surface tracking system \\
23--24 & Phase 3 & Viscosity & Viscosity implementation \\
\hline
25--26 & Phase 4 & Specialization 1 & Domain project 1 \\
27--28 & Phase 4 & Specialization 2 & Domain project 2 \\
29--30 & Phase 4 & Advanced Topics & Integration work \\
\hline
31--36 & Phase 5 & Capstone & Final project \\
\hline
\end{longtable}
\end{center}

\chapter{Assessment Rubrics}

\section{Code Quality Rubric}

\begin{center}
\begin{tabular}{|l|p{10cm}|}
\hline
\textbf{Criterion} & \textbf{Excellent (90--100\%)} \\
\hline
Architecture & Clean separation of concerns; extensible design patterns; clear interfaces \\
\hline
Correctness & Passes all test cases; handles edge cases; numerically stable \\
\hline
Efficiency & Appropriate algorithmic complexity; cache-friendly access; minimal redundancy \\
\hline
Documentation & Clear comments; API documentation; usage examples \\
\hline
Testing & Comprehensive unit tests; integration tests; automated benchmarks \\
\hline
\end{tabular}
\end{center}

\section{Visual Quality Rubric}

\begin{center}
\begin{tabular}{|l|p{10cm}|}
\hline
\textbf{Criterion} & \textbf{Excellent (90--100\%)} \\
\hline
Physical Plausibility & Motion matches reference; no unnatural artifacts \\
\hline
Detail Richness & Appropriate turbulence; convincing small-scale features \\
\hline
Temporal Coherence & Smooth motion; no popping or jitter \\
\hline
Resolution & Sufficient resolution for intended use case \\
\hline
\end{tabular}
\end{center}

\chapter{Mathematical Reference}

\section{Common Operators}

\begin{align*}
\text{Gradient:} \quad & \nabla \phi = \left( \frac{\partial \phi}{\partial x}, \frac{\partial \phi}{\partial y}, \frac{\partial \phi}{\partial z} \right) \\[0.3cm]
\text{Divergence:} \quad & \nabla \cdot \mathbf{u} = \frac{\partial u}{\partial x} + \frac{\partial v}{\partial y} + \frac{\partial w}{\partial z} \\[0.3cm]
\text{Curl:} \quad & \nabla \times \mathbf{u} = \left( \frac{\partial w}{\partial y} - \frac{\partial v}{\partial z}, \frac{\partial u}{\partial z} - \frac{\partial w}{\partial x}, \frac{\partial v}{\partial x} - \frac{\partial u}{\partial y} \right) \\[0.3cm]
\text{Laplacian:} \quad & \nabla^2 \phi = \frac{\partial^2 \phi}{\partial x^2} + \frac{\partial^2 \phi}{\partial y^2} + \frac{\partial^2 \phi}{\partial z^2}
\end{align*}

\section{Incompressible Navier-Stokes}

\[
\frac{\partial \mathbf{u}}{\partial t} + (\mathbf{u} \cdot \nabla)\mathbf{u} = -\frac{1}{\rho}\nabla p + \nu \nabla^2 \mathbf{u} + \mathbf{f}
\]
\[
\nabla \cdot \mathbf{u} = 0
\]

% ============================================================================
% END DOCUMENT
% ============================================================================

\end{document}
