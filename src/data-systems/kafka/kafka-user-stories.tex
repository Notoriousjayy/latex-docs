
\documentclass[11pt,a4paper]{article}

% ---- Encoding & fonts ----
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{microtype}

% ---- Page layout ----
\usepackage[a4paper,margin=1in]{geometry}
\usepackage{setspace}
\setstretch{1.05}

% ---- General utilities ----
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue!60!black,
  urlcolor=blue!60!black,
  citecolor=blue!60!black,
  pdftitle={Kafka â€” Study Plan as User Stories (2nd ed.)},
  pdfauthor={},
  pdfsubject={User Story Template + Chapter Cards},
  pdfcreator={LaTeX}
}
\usepackage{enumitem}
\usepackage{amssymb} % for \square
\usepackage{tabularx}
\usepackage{array}
\usepackage[most]{tcolorbox}

% ---- Colors ----
\definecolor{CardBorder}{HTML}{0D3B66}
\definecolor{CardBack}{HTML}{F7F9FC}
\definecolor{TagBack}{HTML}{E9ECEF}
\definecolor{Muted}{HTML}{6C757D}

% ---- Column types for tabularx ----
\newcolumntype{L}{>{\raggedleft\arraybackslash\bfseries}p{.25\linewidth}}
\newcolumntype{Y}{>{\raggedright\arraybackslash}X}

% ---- Inline tag (pill) ----
\newtcbox{\tagpill}{on line, colback=TagBack, colframe=TagBack, boxrule=0pt, 
  arc=2pt, outer arc=2pt, top=1.5pt, bottom=1.5pt, left=4pt, right=4pt}

% ---- Tasks checklist ----
\newlist{tasklist}{itemize}{1}
\setlist[tasklist]{label=$\square$, leftmargin=1.7em, itemsep=2pt, topsep=4pt}

% ---- StoryCard + Tasks styles ----
\tcbset{
  colback=CardBack,
  colframe=CardBorder,
  arc=2pt,
  boxsep=3pt,
  left=6pt,right=6pt,top=6pt,bottom=6pt,
  before skip=10pt, after skip=10pt
}

\newtcolorbox{StoryCardBox}[2][]{enhanced, breakable, title=\textbf{#2}, #1}
\newtcolorbox{TasksBox}[1][]{enhanced, breakable, title=\textbf{Tasks}, colback=white, #1}

% ---- Helpers ----
\newcommand{\Field}[2]{\textbf{#1}~#2}
\newcommand{\DoR}{\textbf{Definition of Ready}}
\newcommand{\DoD}{\textbf{Definition of Done}}

\begin{document}

\begin{center}
  {\LARGE \textbf{Kafka: The Definitive Guide (2nd ed.)} \\[4pt]
  \large Study Plan Rendered as User Stories}\\[6pt]
  \normalsize \textit{This standalone document contains: (1) a compact guide for writing good user stories, (2) a reusable Story Card template, and (3) filled cards for each chapter.}
\end{center}

\section*{How to Write Effective User Stories (Quick Guide)}
\begin{itemize}[leftmargin=1.2em]
  \item \textbf{Format:} \emph{As a <persona>, I want <capability> so that <benefit>.}
  \item \textbf{Value:} Connect capability to measurable business value (throughput, MTTR, error rate, time-to-market).
  \item \textbf{Acceptance Criteria (BDD):} \textbf{Given/When/Then} statements that are objective, testable, and observable.
  \item \textbf{Non-Functional:} Call out performance, security, reliability, privacy, accessibility, and internationalization.
  \item \textbf{Sizing:} Small enough to complete in a sprint; use story points only for planning---not contracts.
  \item \textbf{Evidence:} Prefer runnable demos, dashboards, or logs over prose.
\end{itemize}
\clearpage

\section*{Story Card Template}
% A minimal, robust template derived from the user's Story Card Definition + User Story Template.
\begin{StoryCardBox}{TEMPLATE --- Title of the Story}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & \emph{Where does this story live? e.g., ``Foundations'' or ``Security''} \\
 Business Value & \emph{Why this matters; how we will measure success} \\
 Priority / Estimate & \emph{Priority: Must/Should/Could; SP: N} \\
 Persona & \emph{Primary actor, e.g., ``Kafka developer''} \\
 Dependencies & \emph{Pre-req tools, clusters, data sets} \\
 Assumptions / Risks & \emph{Important constraints and risks} \\
\end{tabularx}

\medskip

\Field{Story}{\; \emph{As a <persona>, I want <capability> so that <benefit>.}}

\medskip

\Field{Non-Functional}{\;
  \tagpill{Performance}\; \tagpill{Security}\; \tagpill{Reliability}\; \tagpill{Accessibility}\; \tagpill{Privacy}\; \tagpill{i18n}
}

\medskip

\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt, topsep=2pt]
  \item \textbf{Scenario} Happy path
  \item \textbf{Given} preconditions are met (cluster available, topics created, access granted)
  \item \textbf{When} the \emph{Hands-on Objectives} are completed
  \item \textbf{Then} the stated \emph{Outcomes/Deliverables} are observable and recorded
\end{itemize}

{\footnotesize
\textcolor{Muted}{\DoR: Persona clear; AC drafted; Dependencies known; Estimate set. \quad
\DoD: All ACs pass; Tests green; Security/a11y checks; Docs updated; Deployed/flagged.}}

\medskip

\begin{TasksBox}
\begin{tasklist}
  \item Concrete task 1 (15--60 minutes).
  \item Concrete task 2 (runnable, observable output).
  \item Concrete task 3 (test or measurement).
  \item Publish evidence (README, screenshot, metrics).
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% =======================================================
% =================== CHAPTER CARDS =====================
% =======================================================

\section*{Chapter Cards (Kafka 2nd Edition)}

% --------- CH 1 ---------
\begin{StoryCardBox}{KAF-01 --- Meet Kafka}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Foundations \\
 Business Value & Shared understanding of Kafka primitives to reduce integration risk and align on use cases. \\
 Priority / Estimate & Priority: Must \quad SP: 3 \\
 Persona & Backend engineer new to Kafka \\
 Dependencies & Local dev toolchain; diagramming tool \\
 Assumptions / Risks & Misapplied patterns if primitives are misunderstood \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a backend engineer, I want to understand Kafka's core abstractions so that I can identify fit-for-purpose use cases and avoid misuse.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Performance}\; \tagpill{Reliability}\; \tagpill{Security}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} a study repo and note template
  \item \textbf{When} I complete the hands-on objectives
  \item \textbf{Then} a one-page ``Why Kafka'' brief and event-flow diagram are committed
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item List three candidate use cases and map producers, topics/partitions, consumers.
  \item Draw an event flow (sequence from producer to consumer) and annotate retention/ordering.
  \item Compare Kafka vs. current integration (2--3 bullet pros/cons each).
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 2 ---------
\begin{StoryCardBox}{KAF-02 --- Installing Kafka}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Foundations \\
 Business Value & Repeatable environment for iterative learning and testing without blocking others. \\
 Priority / Estimate & Priority: Must \quad SP: 5 \\
 Persona & DevOps-minded developer \\
 Dependencies & Docker Desktop/Podman; Compose; make \\
 Assumptions / Risks & Local ports may be occupied; resource limits on laptops \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a developer, I want a reproducible multi-broker dev cluster so that I can practice operations safely.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}\; \tagpill{Security}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} Docker is installed
  \item \textbf{When} I run \texttt{make up}
  \item \textbf{Then} a 3-broker cluster with a 6-partition, RF=3 topic is available
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Author \texttt{docker-compose.yml} (3 brokers + controller/KRaft or ZooKeeper as applicable).
  \item Create topic \texttt{events} with partitions=6, RF=3; verify ISR.
  \item Kill one broker and show continued produce/consume; capture logs.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 3 ---------
\begin{StoryCardBox}{KAF-03 --- Producers}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Client Development \\
 Business Value & Safe, efficient ingestion with predictable latency/throughput. \\
 Priority / Estimate & Priority: Must \quad SP: 5 \\
 Persona & Application developer \\
 Dependencies & Ch02 cluster; Schema tooling (Avro/JSON) \\
 Assumptions / Risks & Hot partitions if keys poorly chosen \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As an app dev, I want to produce messages with proper batching, compression, and keys so that ingestion is fast and ordered where needed.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Performance}\; \tagpill{Reliability}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} a producer sample
  \item \textbf{When} I toggle \texttt{acks}, \texttt{linger.ms}, compression
  \item \textbf{Then} I record latency/throughput and ordering effects
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Implement sync and async producer with callbacks.
  \item Send JSON and Avro; document serializer choice.
  \item Benchmark 3 configurations; paste metrics in README.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 4 ---------
\begin{StoryCardBox}{KAF-04 --- Consumers}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Client Development \\
 Business Value & Robust consumption with minimal lag and controlled rebalancing. \\
 Priority / Estimate & Priority: Must \quad SP: 5 \\
 Persona & Application developer \\
 Dependencies & Ch02 cluster; metrics tooling \\
 Assumptions / Risks & Long processing may trigger rebalances \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As an app dev, I want consumers that handle backpressure and commits safely so that processing is reliable and observable.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}\; \tagpill{Performance}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} two consumer instances in one group
  \item \textbf{When} I scale up/down
  \item \textbf{Then} rebalances are logged and lag remains bounded
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Implement manual vs. auto commit; add rebalance listener.
  \item Provide a ``process exactly this offset'' backfill tool.
  \item Capture consumer lag charts before/after scaling.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 5 ---------
\begin{StoryCardBox}{KAF-05 --- Administering Kafka Programmatically (AdminClient)}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Tooling \\
 Business Value & Safer, automated operations; less manual error. \\
 Priority / Estimate & Priority: Should \quad SP: 3 \\
 Persona & Platform engineer \\
 Dependencies & Client libs; cluster admin access \\
 Assumptions / Risks & Changing topic configs in prod without guardrails \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a platform engineer, I want an AdminClient CLI so that I can manage topics/configs/groups via code and CI.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}\; \tagpill{Security}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} a dev cluster
  \item \textbf{When} I run the tool
  \item \textbf{Then} topics can be created/altered and configs listed with dry-run support
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Implement commands: create/alter topic, list groups, delete records (guarded).
  \item Add ``add-partitions'' with safety checks.
  \item Provide example CI job for read-only inventory.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 6 ---------
\begin{StoryCardBox}{KAF-06 --- Kafka Internals}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Foundations \\
 Business Value & Better troubleshooting and right-sized configs. \\
 Priority / Estimate & Priority: Should \quad SP: 3 \\
 Persona & Platform engineer \\
 Dependencies & Log inspection tools \\
 Assumptions / Risks & Misinterpreting compaction/segment behavior \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a platform engineer, I want to understand replication, logs, and compaction so that I can tune and debug effectively.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Performance}\; \tagpill{Reliability}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} a compacted topic
  \item \textbf{When} I write updates and tombstones
  \item \textbf{Then} I can show post-compaction state and segment layout
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Create a compacted topic; write keys/updates/tombstones.
  \item Inspect log segments and indexes; summarize findings.
  \item Map common symptoms to likely internal causes (cheat sheet).
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 7 ---------
\begin{StoryCardBox}{KAF-07 --- Reliable Data Delivery}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Resilience \\
 Business Value & Minimize message loss/duplication; predictable recovery. \\
 Priority / Estimate & Priority: Must \quad SP: 5 \\
 Persona & SRE / platform engineer \\
 Dependencies & Chaos testing harness \\
 Assumptions / Risks & Network partitions and broker failures \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As an SRE, I want validated at-least-once delivery so that failures don't cause data loss.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}\; \tagpill{Performance}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} replication factor 3 and minISR 2
  \item \textbf{When} a broker is killed and network throttled
  \item \textbf{Then} producers/consumers continue and no committed data is lost
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Configure RF=3 and \texttt{min.insync.replicas=2}; enable idempotent producer.
  \item Run failure drills (kill broker, throttle network); capture outcomes.
  \item Document retry/backoff and dead-letter strategies.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 8 ---------
\begin{StoryCardBox}{KAF-08 --- Exactly-Once Semantics (EOS)}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Resilience \\
 Business Value & Prevent double-counting in financial/critical pipelines. \\
 Priority / Estimate & Priority: Should \quad SP: 5 \\
 Persona & Application developer \\
 Dependencies & Transactions enabled; two topics \\
 Assumptions / Risks & Throughput overhead with EOS \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As an app dev, I want a read-process-write topology with transactions so that results are exactly-once.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} transactional producer and consumer
  \item \textbf{When} I restart during processing
  \item \textbf{Then} no double-counts are observed in sinks
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Implement transactional producer; handle fencing and timeouts.
  \item Compare EOS vs. at-least-once throughput.
  \item Write a replay test to prove invariants.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 9 ---------
\begin{StoryCardBox}{KAF-09 --- Kafka Connect (Pipelines)}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Integration \\
 Business Value & Faster integration with external systems with less bespoke code. \\
 Priority / Estimate & Priority: Must \quad SP: 5 \\
 Persona & Data engineer \\
 Dependencies & Connect runtime; connector plugins \\
 Assumptions / Risks & Bad schemas/SMTs can break downstream \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a data engineer, I want to move data between Kafka and external systems using Connect so that pipelines are standardized.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}\; \tagpill{Security}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} a source and sink connector
  \item \textbf{When} I apply SMTs and run
  \item \textbf{Then} data flows; errors go to DLQ
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item File/DB source $\rightarrow$ Kafka $\rightarrow$ Postgres/Elasticsearch sink.
  \item Add SMT for enrichment; configure DLQ for error records.
  \item Document schema evolution strategy.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 10 ---------
\begin{StoryCardBox}{KAF-10 --- Cross-Cluster Mirroring}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Disaster Recovery \\
 Business Value & Regional resilience and data locality. \\
 Priority / Estimate & Priority: Should \quad SP: 5 \\
 Persona & Platform engineer \\
 Dependencies & Two clusters; connectivity \\
 Assumptions / Risks & Offset/ACL sync; filtering topics \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a platform engineer, I want to mirror critical topics between clusters so that failover is possible.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}\; \tagpill{Security}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} two clusters
  \item \textbf{When} I mirror topics and simulate link degradation
  \item \textbf{Then} consumers can fail over with minimal disruption
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Configure MirrorMaker (or equivalent) for a subset of topics.
  \item Perform planned failover test; record recovery time.
  \item Write a mirroring playbook (include ACLs and offset sync notes).
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 11 ---------
\begin{StoryCardBox}{KAF-11 --- Securing Kafka}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Security \\
 Business Value & Protect data-in-motion and enforce least privilege. \\
 Priority / Estimate & Priority: Must \quad SP: 5 \\
 Persona & Security engineer \\
 Dependencies & PKI/certs; secret storage \\
 Assumptions / Risks & Misconfigured TLS can cause outages \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a security engineer, I want TLS, SASL, and ACLs enforced so that only authorized clients can access topics.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Security}\; \tagpill{Reliability}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} issued certs and user principals
  \item \textbf{When} I enable mTLS and ACLs
  \item \textbf{Then} unauthorized access fails; authorized paths succeed
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Enable TLS (brokers and clients); rotate one cert in dev.
  \item Configure SASL (e.g., SCRAM/OAuth) and least-privilege ACLs.
  \item Add a security hardening checklist to the repo.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 12 ---------
\begin{StoryCardBox}{KAF-12 --- Administering Kafka (Day-2 Ops)}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Operations \\
 Business Value & Safe changes and efficient maintenance. \\
 Priority / Estimate & Priority: Should \quad SP: 5 \\
 Persona & SRE / platform engineer \\
 Dependencies & CLI tools; disk/partition metrics \\
 Assumptions / Risks & Risky operations without dry-run/verification \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As an SRE, I want standard operating procedures for common Kafka admin tasks so that changes are safe and auditable.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} topic growth and uneven disk usage
  \item \textbf{When} I add partitions and move replicas
  \item \textbf{Then} data is rebalanced and verification passes
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Run preferred leader election; perform partition reassignments.
  \item Execute replica verification tool and record results.
  \item Document safe-delete procedures and rollback plans.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 13 ---------
\begin{StoryCardBox}{KAF-13 --- Monitoring Kafka}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Observability \\
 Business Value & Faster detection and response; fewer incidents. \\
 Priority / Estimate & Priority: Must \quad SP: 5 \\
 Persona & SRE \\
 Dependencies & JMX exporter; Prometheus; Grafana \\
 Assumptions / Risks & Alert fatigue if thresholds are noisy \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As an SRE, I want SLIs/SLOs and dashboards for brokers, clients, and topics so that health is visible.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Reliability}\; \tagpill{Performance}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} metrics export
  \item \textbf{When} I deploy dashboards and alerts
  \item \textbf{Then} lag/regressions trigger actionable alerts; black-box probe is green
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Export broker/consumer metrics; build Grafana dashboards.
  \item Implement consumer-lag alerts and a heartbeat topic.
  \item Define SLOs (e.g., produce p95, consume p95, offline partitions=0).
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}
\clearpage

% --------- CH 14 ---------
\begin{StoryCardBox}{KAF-14 --- Stream Processing (Kafka Streams)}
\begin{tabularx}{\linewidth}{LY}
 Epic / Feature & Stream Processing \\
 Business Value & Real-time insights with stateful processing. \\
 Priority / Estimate & Priority: Should \quad SP: 8 \\
 Persona & Application developer / data engineer \\
 Dependencies & Two topics; Kafka Streams lib; test data \\
 Assumptions / Risks & State store size and rebalancing concerns \\
\end{tabularx}

\medskip
\Field{Story}{\; \emph{As a developer, I want a Kafka Streams topology with joins and windowed aggregations so that I can deliver real-time features.}}

\medskip
\Field{Non-Functional}{\; \tagpill{Performance}\; \tagpill{Reliability}}

\medskip
\Field{Acceptance Criteria (BDD)}{}
\begin{itemize}[leftmargin=1.2em, itemsep=1pt]
  \item \textbf{Given} input topics A and B
  \item \textbf{When} I run a join + tumbling window aggregate
  \item \textbf{Then} results are correct under reprocessing and restart
\end{itemize}

\begin{TasksBox}
\begin{tasklist}
  \item Implement topology with Interactive Queries and topology tests.
  \item Add a replay/reprocessing script; validate determinism.
  \item Document scaling and fault recovery behavior.
\end{tasklist}
\end{TasksBox}
\end{StoryCardBox}

% ======= CAPSTONE =======
\section*{Capstone (Optional)}
Build an end-to-end pipeline: CDC $\rightarrow$ Kafka $\rightarrow$ Streams aggregation $\rightarrow$ Postgres/Elasticsearch sink; dashboards and SLOs; chaos test; optional cross-cluster failover.

\end{document}
