<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="638px" preserveAspectRatio="none" style="width:443px;height:638px;" version="1.1" viewBox="0 0 443 638" width="443px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="114" y="10.2104">Parallel Pipeline Pattern: Data Parallelism</text><!--MD5=[0d1040c8372a5fe79357027e8a0750d0]
cluster Parallel Filter Instances--><rect fill="#F5F5F5" height="105" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="408" x="22" y="257.8047"/><text fill="#000000" font-family="Arial" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="149.5" y="270.0151">Parallel Filter Instances</text><!--MD5=[51a390e7b08849a563485b1a3783e5d5]
entity F1--><rect fill="#7CB342" height="58.4141" rx="4" ry="4" style="stroke: #558B2F; stroke-width: 1.0;" width="102" x="38" y="288.8047"/><rect fill="#7CB342" height="5" style="stroke: #558B2F; stroke-width: 1.0;" width="10" x="33" y="293.8047"/><rect fill="#7CB342" height="5" style="stroke: #558B2F; stroke-width: 1.0;" width="10" x="33" y="337.2188"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="48" y="309.0151">«transformer»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="59.5" y="321.8198">Filter</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="59.5" y="334.6245">Instance 1</text><!--MD5=[fc2ea6184d7eeff6089e30f93bbb7e6e]
entity F2--><rect fill="#7CB342" height="58.4141" rx="4" ry="4" style="stroke: #558B2F; stroke-width: 1.0;" width="102" x="175" y="288.8047"/><rect fill="#7CB342" height="5" style="stroke: #558B2F; stroke-width: 1.0;" width="10" x="170" y="293.8047"/><rect fill="#7CB342" height="5" style="stroke: #558B2F; stroke-width: 1.0;" width="10" x="170" y="337.2188"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="185" y="309.0151">«transformer»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="196.5" y="321.8198">Filter</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="196.5" y="334.6245">Instance 2</text><!--MD5=[1513ecefc9a925df268ab2a7bd7ec49f]
entity F3--><rect fill="#7CB342" height="58.4141" rx="4" ry="4" style="stroke: #558B2F; stroke-width: 1.0;" width="102" x="312" y="288.8047"/><rect fill="#7CB342" height="5" style="stroke: #558B2F; stroke-width: 1.0;" width="10" x="307" y="293.8047"/><rect fill="#7CB342" height="5" style="stroke: #558B2F; stroke-width: 1.0;" width="10" x="307" y="337.2188"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="322" y="309.0151">«transformer»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="333.5" y="321.8198">Filter</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="333.5" y="334.6245">Instance 3</text><!--MD5=[c8da82a3e4fd5c54db14ac48b9861466]
entity Source--><rect fill="#4A90D9" height="45.6094" rx="4" ry="4" style="stroke: #1565C0; stroke-width: 1.0;" width="72" x="190" y="20.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="185" y="25.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="185" y="56.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="200" y="41.0151">«source»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="206" y="53.8198">Source</text><!--MD5=[d8c91ca6a207703a3c95ae5e34989e79]
entity Partition--><rect fill="#00ACC1" height="45.6094" rx="4" ry="4" style="stroke: #00838F; stroke-width: 1.0;" width="79" x="186.5" y="146.3047"/><rect fill="#00ACC1" height="5" style="stroke: #00838F; stroke-width: 1.0;" width="10" x="181.5" y="151.3047"/><rect fill="#00ACC1" height="5" style="stroke: #00838F; stroke-width: 1.0;" width="10" x="181.5" y="181.9141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="199.5" y="166.5151">«splitter»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="196.5" y="179.3198">Partitioner</text><!--MD5=[cb37b96faafd92b5cfd195831fdd9a39]
entity Merge--><rect fill="#AB47BC" height="45.6094" rx="4" ry="4" style="stroke: #7B1FA2; stroke-width: 1.0;" width="97" x="177.5" y="409.8047"/><rect fill="#AB47BC" height="5" style="stroke: #7B1FA2; stroke-width: 1.0;" width="10" x="172.5" y="414.8047"/><rect fill="#AB47BC" height="5" style="stroke: #7B1FA2; stroke-width: 1.0;" width="10" x="172.5" y="445.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="187.5" y="430.0151">«aggregator»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="206" y="442.8198">Merger</text><!--MD5=[100581b41cbcdd296f74c83907c36c11]
entity Sink--><rect fill="#F5A623" height="45.6094" rx="4" ry="4" style="stroke: #E65100; stroke-width: 1.0;" width="56" x="198" y="529.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="193" y="534.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="193" y="565.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="208" y="550.0151">«sink»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="214" y="562.8198">Sink</text><path d="M301,144.8047 L301,165.3047 L265.65,169.3047 L301,173.3047 L301,193.3672 A4,4 0 0 0 305,197.3672 L427,197.3672 A4,4 0 0 0 431,193.3672 L431,150.8047 L421,140.8047 L305,140.8047 A4,4 0 0 0 301,144.8047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><path d="M421,140.8047 L421,148.8047 A2,2 0 0 0 423,150.8047 L431,150.8047 L421,140.8047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="109" x="307" y="155.0869">Partitioning strategies:</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="68" x="307" y="166.7275">• Round-robin</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="67" x="307" y="178.3682">• Hash-based</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="73" x="307" y="190.0088">• Range-based</text><path d="M309.5,420.3047 L309.5,428.8047 L274.74,432.8047 L309.5,436.8047 L309.5,445.5859 A4,4 0 0 0 313.5,449.5859 L420.5,449.5859 A4,4 0 0 0 424.5,445.5859 L424.5,426.3047 L414.5,416.3047 L313.5,416.3047 A4,4 0 0 0 309.5,420.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><path d="M414.5,416.3047 L414.5,424.3047 A2,2 0 0 0 416.5,426.3047 L424.5,426.3047 L414.5,416.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="94" x="315.5" y="430.5869">Ordering may need</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="69" x="315.5" y="442.2275">to be restored</text><!--MD5=[d75dbabe171aa53870a7a535c2dee64f]
link Source to Partition--><path d="M226,66.8847 C226,87.5647 226,118.5447 226,140.8247 " fill="none" id="Source-&gt;Partition" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="226,146.0047,230,137.0047,226,141.0047,222,137.0047,226,146.0047" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="227" y="108.0151">data stream</text><!--MD5=[587cd966ba3433d8685970a18f21ab8d]
link Partition to F1--><path d="M197.03,192.5547 C184.49,202.7347 169.98,215.3047 158,227.8047 C141.16,245.3747 124.39,266.8947 111.6,284.3747 " fill="none" id="Partition-&gt;F1" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="108.43,288.7247,116.9606,283.8023,111.3726,284.6822,110.4926,279.0942,108.43,288.7247" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="159" y="239.0151">partition 1</text><!--MD5=[154a1cbe10f1712ef068e7d66ad47a66]
link Partition to F2--><path d="M226,192.5547 C226,216.7447 226,255.6647 226,283.4947 " fill="none" id="Partition-&gt;F2" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="226,288.5547,230,279.5547,226,283.5547,222,279.5547,226,288.5547" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="227" y="239.0151">partition 2</text><!--MD5=[8bbb749f6cdedc442b629be4afd35d4a]
link Partition to F3--><path d="M254.97,192.5547 C267.51,202.7347 282.02,215.3047 294,227.8047 C310.84,245.3747 327.61,266.8947 340.4,284.3747 " fill="none" id="Partition-&gt;F3" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="343.57,288.7247,341.5074,279.0942,340.6274,284.6822,335.0394,283.8023,343.57,288.7247" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="307" y="239.0151">partition 3</text><!--MD5=[e1d1b51468c77402f132e052b700f7fb]
link F1 to Merge--><path d="M123.22,347.0247 C145.3,365.2447 173.79,388.7447 195.17,406.3747 " fill="none" id="F1-&gt;Merge" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="199.08,409.6047,194.688,400.7893,195.2249,406.4206,189.5936,406.9575,199.08,409.6047" style="stroke: #37474F; stroke-width: 2.0;"/><!--MD5=[9f5f55d288c2f60b81003a3f3c88b3da]
link F2 to Merge--><path d="M226,347.0247 C226,364.5647 226,386.9947 226,404.3847 " fill="none" id="F2-&gt;Merge" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="226,409.6047,230,400.6047,226,404.6047,222,400.6047,226,409.6047" style="stroke: #37474F; stroke-width: 2.0;"/><!--MD5=[32d03e734c72f8aa52912c1a95e0c8b1]
link F3 to Merge--><path d="M328.78,347.0247 C306.7,365.2447 278.21,388.7447 256.83,406.3747 " fill="none" id="F3-&gt;Merge" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="252.92,409.6047,262.4064,406.9575,256.7751,406.4206,257.312,400.7893,252.92,409.6047" style="stroke: #37474F; stroke-width: 2.0;"/><!--MD5=[003feae8805755655ae85ca4ca7978f9]
link Merge to Sink--><path d="M226,455.9947 C226,475.4447 226,503.7847 226,524.5947 " fill="none" id="Merge-&gt;Sink" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="226,529.7047,230,520.7047,226,524.7047,222,520.7047,226,529.7047" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="227" y="497.0151">merged results</text><rect fill="#FAFAFA" height="33.2813" rx="5" ry="5" style="stroke: #BDBDBD; stroke-width: 1.0;" width="321" x="71" y="593.8047"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="309" x="77" y="608.0869">Each filter instance processes different data items concurrently.</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="215" x="77" y="619.7275">Throughput scales with number of instances.</text><!--MD5=[d5b22eb07a1bf9c08791f064afccb85e]
@startuml parallel-pipeline-pattern

skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
skinparam roundCorner 8


skinparam component {
    BackgroundColor #7CB342
    FontColor white
    BorderColor #558B2F
    BorderThickness 1
}

skinparam component<<source>> {
    BackgroundColor #4A90D9
    BorderColor #1565C0
}

skinparam component<<sink>> {
    BackgroundColor #F5A623
    BorderColor #E65100
}

skinparam component<<transformer>> {
    BackgroundColor #7CB342
    BorderColor #558B2F
}

skinparam component<<splitter>> {
    BackgroundColor #00ACC1
    BorderColor #00838F
}

skinparam component<<aggregator>> {
    BackgroundColor #AB47BC
    BorderColor #7B1FA2
}

skinparam component<<error>> {
    BackgroundColor #EF5350
    BorderColor #C62828
}

skinparam component<<tee>> {
    BackgroundColor #FF7043
    BorderColor #D84315
}

skinparam arrow {
    Color #37474F
    FontColor #37474F
    Thickness 2
}

skinparam rectangle {
    BackgroundColor #FAFAFA
    BorderColor #90A4AE
    BorderThickness 1
}

skinparam package {
    BackgroundColor #F5F5F5
    BorderColor #666666
}

skinparam note {
    BackgroundColor #FFFDE7
    BorderColor #FBC02D
    FontSize 10
}

skinparam legend {
    BackgroundColor #FAFAFA
    BorderColor #BDBDBD
    FontSize 10
}

skinparam queue {
    BackgroundColor #FFF9C4
    BorderColor #F9A825
}

title Parallel Pipeline Pattern: Data Parallelism

[Source] <<source>> as Source

[Partitioner] <<splitter>> as Partition

rectangle "Parallel Filter Instances" #F5F5F5 {
    [Filter\nInstance 1] <<transformer>> as F1
    [Filter\nInstance 2] <<transformer>> as F2
    [Filter\nInstance 3] <<transformer>> as F3
}

[Merger] <<aggregator>> as Merge

[Sink] <<sink>> as Sink

Source -down-> Partition : "data stream"

Partition -down-> F1 : "partition 1"
Partition -down-> F2 : "partition 2"
Partition -down-> F3 : "partition 3"

F1 -down-> Merge
F2 -down-> Merge
F3 -down-> Merge

Merge -down-> Sink : "merged results"

note right of Partition
    Partitioning strategies:
    • Round-robin
    • Hash-based
    • Range-based
end note

note right of Merge
    Ordering may need
    to be restored
end note

legend bottom
    Each filter instance processes different data items concurrently.
    Throughput scales with number of instances.
endlegend

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.17+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>