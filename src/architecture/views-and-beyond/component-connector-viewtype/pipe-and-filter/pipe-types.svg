<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1323px" preserveAspectRatio="none" style="width:566px;height:1323px;" version="1.1" viewBox="0 0 566 1323" width="566px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="217" y="10.2104">Pipe Types (Pipe-and-Filter)</text><!--MD5=[5450b8b5ee85bdef4f34a09da339356b]
cluster Untyped Pipe--><rect fill="#FAFAFA" height="257" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="208" x="32" y="1055.8047"/><text fill="#000000" font-family="Arial" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="93.5" y="1068.0151">Untyped Pipe</text><!--MD5=[1892148097d8f52b89a3bf68cc9c36ba]
cluster Typed Pipe--><rect fill="#FAFAFA" height="352" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="169" x="51.5" y="679.8047"/><text fill="#000000" font-family="Arial" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="100.5" y="692.0151">Typed Pipe</text><!--MD5=[52fda4f40025e3eb375a1baef963fc1b]
cluster Buffered Pipe--><rect fill="#FAFAFA" height="352" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="228" x="22" y="303.8047"/><text fill="#000000" font-family="Arial" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="92" y="316.0151">Buffered Pipe</text><!--MD5=[b1352bfc027826c8ef748d3b6d3c64c5]
cluster Reliable Pipe--><rect fill="#FAFAFA" height="243" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="471" x="84" y="36.8047"/><text fill="#000000" font-family="Arial" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="277.5" y="49.0151">Reliable Pipe</text><!--MD5=[50f35f18019d1ee84efda63fae4bfc7f]
entity UP1--><rect fill="#4A90D9" height="45.6094" rx="4" ry="4" style="stroke: #1565C0; stroke-width: 1.0;" width="72" x="100" y="1250.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="1255.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="1286.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="110" y="1271.0151">«source»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="110.5" y="1283.8198">Producer</text><!--MD5=[17e3b8bc59238d26785a07056938f79f]
entity UC1--><rect fill="#F5A623" height="45.6094" rx="4" ry="4" style="stroke: #E65100; stroke-width: 1.0;" width="79" x="96.5" y="1155.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="91.5" y="1160.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="91.5" y="1191.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="118" y="1176.0151">«sink»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="106.5" y="1188.8198">Consumer</text><path d="M48,1091.3047 L48,1116.5859 A4,4 0 0 0 52,1120.5859 L132,1120.5859 L136,1155.6647 L140,1120.5859 L220,1120.5859 A4,4 0 0 0 224,1116.5859 L224,1097.3047 L214,1087.3047 L52,1087.3047 A4,4 0 0 0 48,1091.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><path d="M214,1087.3047 L214,1095.3047 A2,2 0 0 0 216,1097.3047 L224,1097.3047 L214,1087.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="141" x="54" y="1101.5869">Implicit contract (no schema)</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="155" x="54" y="1113.2275">Higher coupling via assumptions</text><!--MD5=[1de9de07cd78c9ebaa9d9640b20a2abd]
entity TP1--><rect fill="#4A90D9" height="45.6094" rx="4" ry="4" style="stroke: #1565C0; stroke-width: 1.0;" width="72" x="100" y="969.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="974.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="1005.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="110" y="990.0151">«source»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="110.5" y="1002.8198">Producer</text><!--MD5=[a68f83bd3a84e0659eeb7f1aaac07a3f]
entity Schema--><rect fill="#E1BEE7" height="45.6094" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="75" x="98.5" y="874.8047"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="108.5" y="895.0151">Schema</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="108.5" y="907.8198">Validation</text><!--MD5=[10b2f34c363e240ae360d8d7786ee43e]
entity TC1--><rect fill="#F5A623" height="45.6094" rx="4" ry="4" style="stroke: #E65100; stroke-width: 1.0;" width="79" x="96.5" y="779.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="91.5" y="784.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="91.5" y="815.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="118" y="800.0151">«sink»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="106.5" y="812.8198">Consumer</text><path d="M67.5,715.3047 L67.5,740.5859 A4,4 0 0 0 71.5,744.5859 L132,744.5859 L136,779.6647 L140,744.5859 L200.5,744.5859 A4,4 0 0 0 204.5,740.5859 L204.5,721.3047 L194.5,711.3047 L71.5,711.3047 A4,4 0 0 0 67.5,715.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><path d="M194.5,711.3047 L194.5,719.3047 A2,2 0 0 0 196.5,721.3047 L204.5,721.3047 L194.5,711.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="116" x="73.5" y="725.5869">Enforces data contracts</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="99" x="73.5" y="737.2275">Catches errors early</text><!--MD5=[466c9fb889bde7a11d2471f025525e5e]
entity BP1--><rect fill="#4A90D9" height="45.6094" rx="4" ry="4" style="stroke: #1565C0; stroke-width: 1.0;" width="72" x="100" y="593.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="598.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="629.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="110" y="614.0151">«source»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="110.5" y="626.8198">Producer</text><!--MD5=[0ddb0b19bf0b9577ad1d02f387f30e8b]
entity Buf--><rect fill="#C8E6C9" height="45.6094" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="65" x="103.5" y="498.8047"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="113.5" y="519.0151">Buffer</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="113.5" y="531.8198">(Queue)</text><!--MD5=[b059ac7bcfc4a34297a1931520484df8]
entity BC1--><rect fill="#F5A623" height="45.6094" rx="4" ry="4" style="stroke: #E65100; stroke-width: 1.0;" width="79" x="96.5" y="403.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="91.5" y="408.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="91.5" y="439.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="118" y="424.0151">«sink»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="106.5" y="436.8198">Consumer</text><path d="M38,339.3047 L38,364.5859 A4,4 0 0 0 42,368.5859 L132,368.5859 L136,403.6647 L140,368.5859 L230,368.5859 A4,4 0 0 0 234,364.5859 L234,345.3047 L224,335.3047 L42,335.3047 A4,4 0 0 0 38,339.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><path d="M224,335.3047 L224,343.3047 A2,2 0 0 0 226,345.3047 L234,345.3047 L224,335.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="72" x="44" y="349.5869">Absorbs bursts</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="175" x="44" y="361.2275">Decouples producer/consumer rates</text><!--MD5=[4ebd8fdaca1eb451cf3adeb2a945bc49]
entity RP1--><rect fill="#4A90D9" height="45.6094" rx="4" ry="4" style="stroke: #1565C0; stroke-width: 1.0;" width="72" x="100" y="217.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="222.8047"/><rect fill="#4A90D9" height="5" style="stroke: #1565C0; stroke-width: 1.0;" width="10" x="95" y="253.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="110" y="238.0151">«source»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="110.5" y="250.8198">Producer</text><!--MD5=[15e73eba7d27a276b6b3ffc6eda8e90a]
entity DQ--><rect fill="#BBDEFB" height="45.6094" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="64" x="104" y="122.8047"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="114" y="143.0151">Durable</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="114" y="155.8198">Queue</text><!--MD5=[e77b57c13de60b2315db9e91f08a5e63]
entity RC1--><rect fill="#F5A623" height="45.6094" rx="4" ry="4" style="stroke: #E65100; stroke-width: 1.0;" width="79" x="412.5" y="136.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="407.5" y="141.8047"/><rect fill="#F5A623" height="5" style="stroke: #E65100; stroke-width: 1.0;" width="10" x="407.5" y="172.4141"/><text fill="#000000" font-family="Arial" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="434" y="157.0151">«sink»</text><text fill="#FFFFFF" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="422.5" y="169.8198">Consumer</text><!--MD5=[8b40bd982834351230d18f534e861694]
entity DLQ--><rect fill="#FFCDD2" height="45.6094" rx="4" ry="4" style="stroke: #90A4AE; stroke-width: 1.0;" width="86" x="409" y="217.8047"/><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="419" y="238.0151">Dead-Letter</text><text fill="#000000" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="419" y="250.8198">Queue</text><path d="M365,72.3047 L365,97.5859 A4,4 0 0 0 369,101.5859 L535,101.5859 A4,4 0 0 0 539,97.5859 L539,78.3047 L529,68.3047 L369,68.3047 A4,4 0 0 0 365,72.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><path d="M529,68.3047 L529,76.3047 A2,2 0 0 0 531,78.3047 L539,78.3047 L529,68.3047 " fill="#FFFDE7" style="stroke: #FBC02D; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="153" x="371" y="82.5869">Durability + acknowledgements</text><text fill="#000000" font-family="Arial" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="152" x="371" y="94.2275">Supports retries / DLQ handling</text><!--MD5=[24db695985c207ec9981b62640ef0fd1]
link UP1 to UC1--><path d="M136,1250.3247 C136,1237.3247 136,1221.0647 136,1207.3347 " fill="none" id="UP1-&gt;UC1" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="136,1202.0147,132,1211.0147,136,1207.0147,140,1211.0147,136,1202.0147" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="113.5" y="1230.5151">data</text><!--MD5=[f602030404504bf5d4fb6afd8a509788]
link TP1 to Schema--><path d="M136,969.3247 C136,956.3247 136,940.0647 136,926.3347 " fill="none" id="TP1-&gt;Schema" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="136,921.0147,132,930.0147,136,926.0147,140,930.0147,136,921.0147" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="113.5" y="949.5151">data</text><!--MD5=[631738155bf7574798fe538b5611e664]
link Schema to TC1--><path d="M136,874.3247 C136,861.3247 136,845.0647 136,831.3347 " fill="none" id="Schema-&gt;TC1" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="136,826.0147,132,835.0147,136,831.0147,140,835.0147,136,826.0147" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="100.5" y="854.5151">validated</text><!--MD5=[ff3fce5cd32f467ecf551b5456785baa]
link BP1 to Buf--><path d="M136,593.3247 C136,580.3247 136,564.0647 136,550.3347 " fill="none" id="BP1-&gt;Buf" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="136,545.0147,132,554.0147,136,550.0147,140,554.0147,136,545.0147" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="107" y="573.5151">events</text><!--MD5=[09af3b3ee27010e0b2e127b5a31c9ed5]
link Buf to BC1--><path d="M136,498.3247 C136,485.3247 136,469.0647 136,455.3347 " fill="none" id="Buf-&gt;BC1" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="136,450.0147,132,459.0147,136,455.0147,140,459.0147,136,450.0147" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="98" y="478.5151">dequeued</text><!--MD5=[5222438b5634ad252cabfb5383a99f5f]
link RP1 to DQ--><path d="M136,217.3247 C136,204.3247 136,188.0647 136,174.3347 " fill="none" id="RP1-&gt;DQ" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="136,169.0147,132,178.0147,136,174.0147,140,178.0147,136,169.0147" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="105.5" y="197.5151">publish</text><!--MD5=[f903a57d26b0568802f2ab1acd5861b8]
link DQ to RC1--><path d="M168.11,152.3147 C194.13,157.4147 232.3,164.0747 266,166.8047 C296.57,169.2747 304.35,167.7247 335,166.8047 C358.9,166.0847 385.53,164.5347 407.24,163.0747 " fill="none" id="DQ-&gt;RC1" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="412.36,162.7247,403.1068,159.3516,407.3718,163.0677,403.6556,167.3327,412.36,162.7247" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="281.5" y="164.0151">deliver</text><!--MD5=[cb660ec0d30f775e962c1f34a04bd911]
link RC1 to DQ--><path d="M412.39,155.3647 C389.85,152.9747 360.85,150.2247 335,148.8047 C278.66,145.7147 213.17,145.3547 173.43,145.4947 " fill="none" id="RC1-&gt;DQ" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="168.23,145.5147,177.2414,149.489,173.23,145.5004,177.2185,141.489,168.23,145.5147" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="291" y="144.0151">ack</text><!--MD5=[41c57051febc3e494540c614b6d75906]
link DQ to DLQ--><path d="M168.11,156.9947 C194.13,166.2247 232.31,179.4247 266,189.8047 C312.62,204.1647 366.43,218.7847 403.96,228.6647 " fill="none" id="DQ-&gt;DLQ" style="stroke: #37474F; stroke-width: 2.0;"/><polygon fill="#37474F" points="408.91,229.9647,401.2207,223.8104,404.0739,228.695,399.1893,231.5482,408.91,229.9647" style="stroke: #37474F; stroke-width: 2.0;"/><text fill="#37474F" font-family="Arial" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="267" y="187.0151">poison msg</text><!--MD5=[78b69a1c08781a8e128ecbd4c86e0e79]
link DLQ to GMN37--><path d="M408.69,235.8447 C375.92,229.5647 333.02,215.3647 311.5,183.3047 C299.86,165.9647 299.54,153.4247 311.5,136.3047 C324.22,118.0947 344.12,106.3047 364.97,98.6747 " fill="none" id="DLQ-GMN37" style="stroke: #37474F; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[1a4aa9eb061f31da82b74b44af712d53]
@startuml pipe-types

skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
skinparam roundCorner 8


skinparam component {
    BackgroundColor #7CB342
    FontColor white
    BorderColor #558B2F
    BorderThickness 1
}

skinparam component<<source>> {
    BackgroundColor #4A90D9
    BorderColor #1565C0
}

skinparam component<<sink>> {
    BackgroundColor #F5A623
    BorderColor #E65100
}

skinparam component<<transformer>> {
    BackgroundColor #7CB342
    BorderColor #558B2F
}

skinparam component<<splitter>> {
    BackgroundColor #00ACC1
    BorderColor #00838F
}

skinparam component<<aggregator>> {
    BackgroundColor #AB47BC
    BorderColor #7B1FA2
}

skinparam component<<error>> {
    BackgroundColor #EF5350
    BorderColor #C62828
}

skinparam component<<tee>> {
    BackgroundColor #FF7043
    BorderColor #D84315
}

skinparam arrow {
    Color #37474F
    FontColor #37474F
    Thickness 2
}

skinparam rectangle {
    BackgroundColor #FAFAFA
    BorderColor #90A4AE
    BorderThickness 1
}

skinparam package {
    BackgroundColor #F5F5F5
    BorderColor #666666
}

skinparam note {
    BackgroundColor #FFFDE7
    BorderColor #FBC02D
    FontSize 10
}

skinparam legend {
    BackgroundColor #FAFAFA
    BorderColor #BDBDBD
    FontSize 10
}

skinparam queue {
    BackgroundColor #FFF9C4
    BorderColor #F9A825
}
title Pipe Types (Pipe-and-Filter)
left to right direction

rectangle "Untyped Pipe" {
  component "Producer" as UP1 <<source>>
  component "Consumer" as UC1 <<sink>>

  UP1 -right-> UC1 : data

  note bottom
    Implicit contract (no schema)
    Higher coupling via assumptions
  end note
}

rectangle "Typed Pipe" {
  component "Producer" as TP1 <<source>>
  rectangle "Schema\\nValidation" as Schema #E1BEE7
  component "Consumer" as TC1 <<sink>>

  TP1 -right-> Schema : data
  Schema -right-> TC1 : validated

  note bottom
    Enforces data contracts
    Catches errors early
  end note
}

rectangle "Buffered Pipe" {
  component "Producer" as BP1 <<source>>
  rectangle "Buffer\\n(Queue)" as Buf #C8E6C9
  component "Consumer" as BC1 <<sink>>

  BP1 -right-> Buf : events
  Buf -right-> BC1 : dequeued

  note bottom
    Absorbs bursts
    Decouples producer/consumer rates
  end note
}

rectangle "Reliable Pipe" {
  component "Producer" as RP1 <<source>>
  rectangle "Durable\\nQueue" as DQ #BBDEFB
  component "Consumer" as RC1 <<sink>>
  rectangle "Dead-Letter\\nQueue" as DLQ #FFCDD2

  RP1 -right-> DQ : publish
  DQ -right-> RC1 : deliver
  RC1 -down-> DQ : ack
  DQ -down-> DLQ : poison msg

  note bottom
    Durability + acknowledgements
    Supports retries / DLQ handling
  end note
}

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.17+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>