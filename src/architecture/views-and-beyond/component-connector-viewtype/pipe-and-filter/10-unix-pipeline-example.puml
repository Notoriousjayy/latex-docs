@startuml
' Unix Command Pipeline Example
' Shows the classic word frequency counting pipeline

skinparam component {
    BackgroundColor #455A64
    FontColor white
    BorderColor #263238
}

title Unix Pipeline: Top 10 Most Common Words

[cat file.txt] <<source>> as cat
[tr -cs\n'A-Za-z' '\\n'] as tr1
[tr 'A-Z'\n'a-z'] as tr2
[sort] as sort1
[uniq -c] as uniq
[sort -rn] as sort2
[head -10] <<sink>> as head

cat -right-> tr1 : "text"
tr1 -right-> tr2 : "words"
tr2 -right-> sort1 : "lowercase"
sort1 -right-> uniq : "sorted"
uniq -right-> sort2 : "counted"
sort2 -right-> head : "ranked"

note top of cat
    Source: Read file
end note

note top of tr1
    Tokenize into words
end note

note top of tr2
    Normalize case
end note

note top of sort1
    Alphabetize for uniq
end note

note top of uniq
    Count occurrences
end note

note top of sort2
    Order by frequency
end note

note top of head
    Sink: Take top 10
end note

legend bottom
    Command: cat file.txt | tr -cs 'A-Za-z' '\\n' | tr 'A-Z' 'a-z' | sort | uniq -c | sort -rn | head -10
endlegend

@enduml
