@startuml pipe-types
' Pipe Connector Types
' Shows different pipe implementations and their characteristics

title Pipe Connector Types

rectangle "Synchronous Pipe" {
    [Producer] <<source>> as SP1
    [Consumer] <<sink>> as SC1
    SP1 -right-> SC1 : "direct transfer\n(blocking)"
    note bottom
        Tight coupling
        Simple but limiting
    end note
}

rectangle "Buffered Pipe" {
    [Producer] <<source>> as BP1
    queue "Buffer" as Buf
    [Consumer] <<sink>> as BC1
    BP1 -right-> Buf : "write"
    Buf -right-> BC1 : "read"
    note bottom
        Decouples timing
        Enables async processing
    end note
}

rectangle "Typed Pipe" {
    [Producer] <<source>> as TP1
    rectangle "Schema\nValidation" #E1BEE7 as Schema
    [Consumer] <<sink>> as TC1
    TP1 -right-> Schema : "data"
    Schema -right-> TC1 : "validated"
    note bottom
        Enforces data contracts
        Catches errors early
    end note
}

legend bottom
    Buffer sizing affects throughput and memory usage.
    Backpressure mechanisms prevent buffer overflow.
endlegend

@enduml
