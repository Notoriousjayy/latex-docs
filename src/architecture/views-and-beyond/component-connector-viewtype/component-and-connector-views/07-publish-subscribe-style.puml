@startuml 07-publish-subscribe-style
!theme plain
skinparam backgroundColor #FEFEFE
skinparam defaultFontName Arial
skinparam defaultFontSize 11

skinparam component {
    BorderThickness 2
}

skinparam queue {
    BorderThickness 2
}

title Publish-Subscribe Architectural Style

package "Publishers" {
    component "Publisher A" as pa #C8E6C9 {
        portout "pub" as pa_out
    }
    component "Publisher B" as pb #C8E6C9 {
        portout "pub" as pb_out
    }
}

rectangle "Event Bus / Message Broker" as bus #FFF8E1 {
    queue "Topic: Orders" as t1
    queue "Topic: Users" as t2
    queue "Topic: Alerts" as t3
}

package "Subscribers" {
    component "Subscriber X" as sx #E3F2FD {
        portin "sub" as sx_in
    }
    component "Subscriber Y" as sy #E3F2FD {
        portin "sub" as sy_in
    }
    component "Subscriber Z" as sz #E3F2FD {
        portin "sub" as sz_in
    }
}

pa_out --> t1 : publish
pa_out --> t3 : publish
pb_out --> t2 : publish

t1 --> sx_in : deliver
t1 --> sy_in : deliver
t2 --> sy_in : deliver
t3 --> sz_in : deliver

note left of pa
  **Publishers**
  - Announce events
  - No knowledge of subscribers
  - Fire and forget
end note

note right of sx
  **Subscribers**
  - Register interest (subscribe)
  - Receive relevant events
  - No knowledge of publishers
end note

legend bottom
  |= Characteristic |= Description |
  | Decoupling | Publishers and subscribers are independent |
  | Topic-based | Events routed by topic/type |
  | Asynchronous | Non-blocking event delivery |
  | Scalable | Multiple subscribers per topic |
endlegend

@enduml
