@startuml 09-soa-style
!theme plain
skinparam backgroundColor #FEFEFE
skinparam defaultFontName Arial
skinparam defaultFontSize 10

skinparam component {
    BorderThickness 2
}

skinparam rectangle {
    BorderThickness 2
}

title Service-Oriented Architecture (SOA) Style

package "Service Consumers" {
    component "Consumer\nApplication" as cons #E3F2FD
}

rectangle "Infrastructure Services" as infra #F5F5F5 {
    component "Service\nRegistry" as reg #FFF9C4
    component "Enterprise\nService Bus" as esb #FFCCBC
}

package "Service Providers" {
    component "Order\nService" as os #C8E6C9 {
        portin "API" as os_api
    }
    component "Inventory\nService" as is #C8E6C9 {
        portin "API" as is_api
    }
    component "Customer\nService" as cs #C8E6C9 {
        portin "API" as cs_api
    }
}

cons --> reg : 1. discover
cons --> esb : 2. invoke

esb --> os_api : route
esb --> is_api : route
esb --> cs_api : route

os --> reg : register
is --> reg : register
cs --> reg : register

note right of reg
  **Service Registry**
  - Service discovery
  - Contract repository
  - Governance
end note

note right of esb
  **Enterprise Service Bus**
  - Message routing
  - Protocol mediation
  - Transformation
end note

note bottom of os
  **Services**
  - Self-contained
  - Well-defined contracts
  - Loosely coupled
end note

legend bottom
  |= Element |= Role |= Interface |
  | Consumer | Uses services | Discovers and invokes |
  | Provider | Offers services | Standard API (SOAP/REST) |
  | Registry | Enables discovery | Registration/lookup |
  | ESB | Routes messages | Mediates interaction |
endlegend

@enduml
