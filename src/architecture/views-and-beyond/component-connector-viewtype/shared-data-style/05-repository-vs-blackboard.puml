@startuml
skinparam backgroundColor #FEFEFE
skinparam defaultFontSize 11
skinparam defaultFontName Arial
skinparam shadowing false

skinparam component {
    BorderColor #455A64
}

skinparam database {
    FontColor #263238
}

title Repository vs Blackboard Variants\nControl flow comparison

rectangle "Repository Model (Passive Data Store)" as repoModel #E3F2FD {
    [Accessor A] as accA1 #BBDEFB
    [Accessor B] as accB1 #BBDEFB
    [Accessor C] as accC1 #BBDEFB
    database "Repository\n(Passive)" as repo1 #FFF3E0
    
    accA1 --> repo1 : "1. request"
    repo1 --> accA1 : "2. response"
    accB1 --> repo1 : "3. write"
    accC1 ..> repo1 : "4. poll"
}

rectangle "Blackboard Model (Active Data Store)" as bbModel #E8F5E9 {
    [Knowledge\nSource A] as ksA #C8E6C9
    [Knowledge\nSource B] as ksB #C8E6C9
    [Knowledge\nSource C] as ksC #C8E6C9
    database "Blackboard\n(Active)" as bb #FFF3E0
    
    bb ..> ksA : "1. notify"
    ksA --> bb : "2. update"
    bb ..> ksB : "3. trigger"
    ksB --> bb : "4. contribute"
    bb ..> ksC : "5. activate"
}

note bottom of repoModel
  Accessor-Initiated Control
  Accessors decide when to read/write
  Repository is passive
  Polling needed for change detection
end note

note bottom of bbModel
  Repository-Initiated Control
  Blackboard notifies accessors
  Data changes trigger actions
  Common in AI/expert systems
end note

@enduml
