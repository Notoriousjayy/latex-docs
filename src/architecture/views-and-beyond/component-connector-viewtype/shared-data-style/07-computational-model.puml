@startuml
skinparam backgroundColor #FEFEFE
skinparam defaultFontSize 11
skinparam defaultFontName Arial
skinparam shadowing false

skinparam sequence {
    ArrowColor #455A64
    LifeLineBorderColor #455A64
    ParticipantBorderColor #455A64
}

title Data-Mediated Communication\nIndirect interaction through shared repository

participant "Producer\nComponent" as producer #E8F5E9
database "Shared\nRepository" as repo #FFF3E0
participant "Consumer\nComponent" as consumer #E3F2FD

note over producer, consumer
  Key Insight: Producer and Consumer are decoupled
  They share only knowledge of the data structure
end note

== Temporal Decoupling ==
producer -> repo : 1. Write data
activate repo
repo --> producer : Acknowledge
deactivate repo
note right: Producer completes\nwithout waiting\nfor consumer

...time passes...

consumer -> repo : 2. Read data
activate repo
repo --> consumer : Return data
deactivate repo
note right: Consumer reads\nwithout knowing\nthe producer

== Identity Decoupling ==
note over producer, consumer
  Neither component knows the other's identity
  New producers/consumers can be added
  without changes to existing components
end note

== Interface Decoupling ==
note over producer, consumer
  Components share only the data model
  Implementation technologies can differ
  Evolution is independent
end note

@enduml
