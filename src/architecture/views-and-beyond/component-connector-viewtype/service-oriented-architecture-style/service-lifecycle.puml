@startuml service-lifecycle
!define ACTIVE #4A90A4
!define TRANSITION #E8A838
!define LIGHTBG #F8F9FA

skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam padding 8
skinparam roundCorner 12

skinparam state {
    BackgroundColor<<active>> ACTIVE
    FontColor<<active>> white
    BorderColor<<active>> #3A7084
    
    BackgroundColor<<transition>> TRANSITION
    FontColor<<transition>> white
    BorderColor<<transition>> #C88A28
    
    BackgroundColor<<end>> #888888
    FontColor<<end>> white
    BorderColor<<end>> #666666
}

skinparam arrow {
    Color #555555
    FontSize 10
}

title Service Lifecycle

[*] --> Design

state "Design" as Design <<active>> : Define contracts\nSpecify behavior\nPlan resources

Design --> Development : approved

state "Development" as Development <<active>> : Implement service\nUnit testing\nDocumentation

Development --> Testing : code complete

state "Testing" as Testing <<transition>> : Integration tests\nPerformance tests\nSecurity validation

Testing --> Development : defects found
Testing --> Deployment : tests pass

state "Deployment" as Deployment <<transition>> : Release to production\nRegister in catalog\nConfigure monitoring

Deployment --> Operation : deployed

state "Operation" as Operation <<active>> : Monitor health\nHandle incidents\nScale as needed

Operation --> Versioning : changes needed

state "Versioning" as Versioning <<transition>> : Maintain compatibility\nDeprecate old versions\nMigrate consumers

Versioning --> Development : major changes
Versioning --> Operation : minor updates

Operation --> Retirement : no longer needed

state "Retirement" as Retirement <<end>> : Notify consumers\nMigrate dependencies\nDecommission

Retirement --> [*]

note right of Design
  **Governance checkpoint**
  Review service contracts
  before development
end note

note right of Operation
  **Longest phase**
  Most services spend
  majority of time here
end note

note right of Retirement
  **Plan exit strategy**
  from the beginning
end note

@enduml
