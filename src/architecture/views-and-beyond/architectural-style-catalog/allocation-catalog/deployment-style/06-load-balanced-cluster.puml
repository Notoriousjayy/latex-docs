@startuml
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false

skinparam node {
    BackgroundColor #E3F2FD
    BorderColor #1565C0
    FontColor #0D47A1
}

skinparam artifact {
    BackgroundColor #FFF3E0
    BorderColor #EF6C00
    FontColor #E65100
}

skinparam rectangle {
    BackgroundColor #E8F5E9
    BorderColor #2E7D32
    FontColor #1B5E20
}

title Load-Balanced Cluster Pattern

actor "Users" as users

rectangle "Load Balancer" as lb

node "App Server 1" as as1 {
    artifact "App\nInstance" as app1
}

node "App Server 2" as as2 {
    artifact "App\nInstance" as app2
}

node "App Server 3" as as3 {
    artifact "App\nInstance" as app3
}

database "Shared\nState Store" as state

users -down-> lb : requests
lb -down-> app1 : distribute
lb -down-> app2
lb -down-> app3

app1 -down-> state
app2 -down-> state
app3 -down-> state

note right of lb
  Distribution strategies:
  Round-robin
  Least connections
  IP hash (sticky)
end note

note bottom
  Benefits: Horizontal scalability, fault tolerance, flexible load distribution
  Considerations: Stateless preferred; health checking; scaling policies
end note

@enduml
