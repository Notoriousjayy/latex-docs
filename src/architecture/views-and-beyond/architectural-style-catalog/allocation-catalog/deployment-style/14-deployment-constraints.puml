@startuml
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false

skinparam node {
    BackgroundColor #E3F2FD
    BorderColor #1565C0
    FontColor #0D47A1
}

skinparam artifact {
    BackgroundColor #FFF3E0
    BorderColor #EF6C00
    FontColor #E65100
}

skinparam rectangle {
    BackgroundColor #FFEBEE
    BorderColor #C62828
    FontColor #B71C1C
    roundCorner 5
}

skinparam note {
    BackgroundColor #FFFDE7
    BorderColor #F9A825
}

title Deployment Constraints

rectangle "Resource Constraints" as resource {
    artifact "Service\n(needs 8GB RAM)" as svc8gb
    node "Small Node\n(4GB RAM)" as smallNode
    node "Large Node\n(16GB RAM)" as largeNode
    
    svc8gb -[#C62828,dashed]-> smallNode : X insufficient
    svc8gb -[#2E7D32]-> largeNode : OK satisfies
}

rectangle "Affinity / Anti-Affinity" as affinity {
    node "Server A" as srvA {
        artifact "Primary" as primary
    }
    node "Server B" as srvB {
        artifact "Replica" as replica
    }
    
    primary <-[#C62828,dashed]-> replica : anti-affinity\n(different failure domains)
}

rectangle "Regulatory Constraints" as regulatory {
    node "EU Region" as euRegion {
        artifact "EU User\nData Service" as euData
    }
    node "US Region" as usRegion
    
    euData -[#C62828,dashed]-> usRegion : X GDPR: data\nmust stay in EU
}

note as constraintNote
  Constraints ensure:
  Resource requirements are met
  Fault tolerance is maintained
  Compliance is achieved
  Cost limits are respected
end note

@enduml
