@startuml
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam defaultFontSize 10
skinparam shadowing false

skinparam folder {
    BorderColor #37474F
}

skinparam rectangle {
    RoundCorner 8
}

title Common Installation Patterns

rectangle "Single-Directory\nSelf-contained" as single #E3F2FD {
    folder "/opt/myapp/" as s1 {
        folder "bin/" as s1bin
        folder "lib/" as s1lib
        folder "etc/" as s1etc
        folder "data/" as s1data
    }
}
note bottom of single
  + Portable
  + Easy uninstall
  - No system integration
end note

rectangle "Distributed\nPlatform-integrated" as dist #FFF3E0 {
    folder "/usr/bin/" as d1 #FFECB3
    folder "/usr/lib/" as d2 #FFECB3
    folder "/etc/myapp/" as d3 #FFECB3
    folder "/var/lib/myapp/" as d4 #FFECB3
}
note bottom of dist
  + Follows conventions
  + Package manager support
  - Complex uninstall
end note

rectangle "User-Space\nNo admin required" as user #E8F5E9 {
    folder "~/.local/" as u1 {
        folder "bin/" as u1bin
        folder "lib/" as u1lib
    }
    folder "~/.config/myapp/" as u2
}
note bottom of user
  + No privileges needed
  + Per-user isolation
  - Duplication
end note

rectangle "Layered (Container)\nImmutable layers" as layer #F3E5F5 {
    rectangle "Layer 3: App" as l3 #CE93D8
    rectangle "Layer 2: Dependencies" as l2 #E1BEE7
    rectangle "Layer 1: Runtime" as l1 #F3E5F5
    rectangle "Layer 0: Base OS" as l0 #FAFAFA
    
    l3 -[hidden]down- l2
    l2 -[hidden]down- l1
    l1 -[hidden]down- l0
}
note bottom of layer
  + Reproducible
  + Efficient sharing
  - Layer complexity
end note

rectangle "Side-by-Side\nVersion coexistence" as sxs #FFEBEE {
    folder "/opt/myapp-1.0/" as v1 #FFCDD2
    folder "/opt/myapp-2.0/" as v2 #FFCDD2
    folder "/opt/myapp-2.1/" as v3 #EF9A9A
}
note bottom of sxs
  + Safe upgrades
  + Rollback support
  - Disk usage
end note

center footer Selection Criteria: Choose pattern based on deployment context, platform requirements, and operational needs
@enduml
