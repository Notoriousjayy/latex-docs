@startuml
skinparam backgroundColor #FEFEFE
skinparam defaultFontName Helvetica
skinparam defaultFontSize 11
skinparam componentStyle rectangle

skinparam component {
    BackgroundColor #EEEEEE
    BorderColor #888888
}

skinparam package {
    BackgroundColor #F8F8F8
    BorderColor #AAAAAA
}

title Microservices Event Bus Example\nLoose coupling through domain events

component "Order\nService" as OS #4A90D9

package "Event Bus" {
    component "OrderPlaced" as OP #F5A623
    component "PaymentReceived" as PR #F5A623
    component "OrderShipped" as OSH #F5A623
}

component "Inventory\nService" as IS #5BAE5B
component "Payment\nService" as PS #5BAE5B
component "Shipping\nService" as SS #5BAE5B
component "Notification\nService" as NS #5BAE5B

OS -down-> OP : publishes
PS -down-> PR : publishes
SS -down-> OSH : publishes

OP -down-> IS : subscribes
OP -down-> PS : subscribes
OP -down-> NS : subscribes

PR -down-> SS : subscribes
PR -down-> NS : subscribes

OSH -down-> NS : subscribes

note bottom of NS
  Services react to events
  without direct coupling
  to event producers
end note

@enduml
