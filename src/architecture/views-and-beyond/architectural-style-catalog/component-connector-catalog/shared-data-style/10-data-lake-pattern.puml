@startuml
skinparam backgroundColor #FEFEFE
skinparam defaultFontSize 11
skinparam defaultFontName Arial
skinparam shadowing false

skinparam component {
    BorderColor #455A64
}

skinparam database {
    FontColor #263238
}

skinparam cloud {
    BackgroundColor #FFF3E0
    BorderColor #E65100
}

title Data Lake Pattern\nCentralized raw data for diverse analytics

rectangle "Data Sources" as sources #ECEFF1 {
    database "Operational\nDatabases" as opdb #CFD8DC
    [Application\nLogs] as logs #CFD8DC
    [IoT\nSensors] as iot #CFD8DC
    [External\nFeeds] as external #CFD8DC
}

cloud "Data Lake" as lake #FFF3E0 {
    rectangle "Raw Zone\n(Landing)" as raw #FFECB3
    rectangle "Curated Zone\n(Cleaned)" as curated #FFE0B2
    rectangle "Refined Zone\n(Aggregated)" as refined #FFCC80
}

rectangle "Analytics Consumers" as consumers #E3F2FD {
    [SQL\nEngine] as sql #BBDEFB
    [Spark\nJobs] as spark #BBDEFB
    [ML\nPlatform] as ml #BBDEFB
    [BI\nTools] as bi #BBDEFB
}

rectangle "Data Governance" as governance #F3E5F5 {
    [Catalog] as catalog #E1BEE7
    [Access\nControl] as access #E1BEE7
    [Lineage] as lineage #E1BEE7
}

opdb --> raw : Batch/CDC
logs --> raw : Stream
iot --> raw : Stream
external --> raw : API

raw --> curated : Clean & Validate
curated --> refined : Transform

curated --> sql
curated --> spark
refined --> ml
refined --> bi

governance ..> lake

note bottom of lake
  Schema-on-Read
  Store raw data in native format
  Interpret schema at query time
end note

legend right
  | Zone | Purpose |
  | Raw | Original data as-is |
  | Curated | Cleaned, validated |
  | Refined | Business-ready |
endlegend

@enduml
