@startuml
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 12
skinparam shadowing false

skinparam participant {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
}

skinparam sequence {
    ArrowColor #424242
    LifeLineBorderColor #757575
    LifeLineBackgroundColor #FAFAFA
}

title Request/Reply Interaction Model

participant "Client" as C #E3F2FD
participant "Connector" as CONN #FFF3E0
participant "Server" as S #E8F5E9

autonumber

== Synchronous Request/Reply ==

C -> C : Construct request
activate C #E3F2FD

C -> CONN : Send request
activate CONN #FFF3E0

CONN -> S : Transmit
activate S #E8F5E9

S -> S : Parse request
S -> S : Execute operation
S -> S : Construct reply

S -> CONN : Send reply
deactivate S

CONN -> C : Return reply
deactivate CONN

C -> C : Process reply
deactivate C

note right of C
  Client blocks until
  reply is received
end note

== Asynchronous Variant ==

C -> C : Construct request
activate C #E3F2FD

C -> CONN : Send request (async)
activate CONN #FFF3E0

C -> C : Continue execution
note right of C : Non-blocking

CONN -> S : Transmit
activate S #E8F5E9
S -> S : Process
S -> CONN : Reply
deactivate S

CONN --> C : Callback/Future
deactivate CONN
deactivate C
@enduml
