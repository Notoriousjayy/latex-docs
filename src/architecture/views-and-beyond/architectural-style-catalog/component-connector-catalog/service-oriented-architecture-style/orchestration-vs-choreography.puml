@startuml orchestration-vs-choreography
!define ORCHESTRATOR #4A90A4
!define SERVICE #6CB0C4
!define EVENT #E8A838
!define LIGHTBG #F8F9FA

skinparam backgroundColor white
skinparam componentStyle rectangle
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam padding 6
skinparam roundCorner 6

skinparam component {
    BackgroundColor<<orchestrator>> ORCHESTRATOR
    FontColor<<orchestrator>> white
    BorderColor<<orchestrator>> #3A7084
    
    BackgroundColor<<service>> SERVICE
    FontColor<<service>> white
    BorderColor<<service>> #5A90A4
    
    BackgroundColor<<event>> EVENT
    FontColor<<event>> white
    BorderColor<<event>> #C88A28
}

skinparam rectangle {
    BackgroundColor LIGHTBG
    BorderColor #BBBBBB
}

skinparam arrow {
    Color #555555
    FontSize 9
}

title Orchestration vs Choreography

rectangle "Orchestration Pattern" as orch {
    component "Orchestrator" as orchestrator <<orchestrator>>
    
    component "Service A" as orchA <<service>>
    component "Service B" as orchB <<service>>
    component "Service C" as orchC <<service>>
    
    orchestrator -down-> orchA : 1. invoke
    orchestrator -down-> orchB : 2. invoke
    orchestrator -down-> orchC : 3. invoke
    
    orchA -up-> orchestrator : result
    orchB -up-> orchestrator : result
    orchC -up-> orchestrator : result
}

rectangle "Choreography Pattern" as choreo {
    component "Event Bus" as bus <<event>>
    
    component "Service X" as choreoX <<service>>
    component "Service Y" as choreoY <<service>>
    component "Service Z" as choreoZ <<service>>
    
    choreoX -down-> bus : publishes\nevent
    bus -down-> choreoY : event
    choreoY -down-> bus : publishes\nevent
    bus -down-> choreoZ : event
}

note bottom of orch
  **Central control**
  - Clear workflow visibility
  - Single point of failure
  - Easier to modify process
  - Tighter coupling
end note

note bottom of choreo
  **Distributed control**
  - Services react to events
  - Higher resilience
  - Harder to trace flow
  - Looser coupling
end note

@enduml
