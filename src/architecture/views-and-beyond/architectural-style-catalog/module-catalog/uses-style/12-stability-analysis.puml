@startuml

skinparam backgroundColor white
skinparam defaultFontSize 12
skinparam ArrowColor #2C3E50
skinparam ArrowThickness 2
skinparam RectangleBorderColor #2C3E50
skinparam RectangleFontSize 12

title Stability Analysis: Dependencies Should Flow Toward Stability

rectangle "**Volatile Module**\nFan-in=1, Fan-out=3\nI = 3/(1+3) = 0.75" as VM #FFCDD2
rectangle "**Intermediate Module**\nFan-in=2, Fan-out=2\nI = 2/(2+2) = 0.50" as IM #FFF9C4
rectangle "**Stable Module**\nFan-in=4, Fan-out=0\nI = 0/(4+0) = 0.00" as SM #C8E6C9

rectangle "Client A" as CA #ECEFF1
rectangle "Client B" as CB #ECEFF1

rectangle "Dep X" as DX #ECEFF1
rectangle "Dep Y" as DY #ECEFF1
rectangle "Dep Z" as DZ #ECEFF1

CA -down-> IM : <<uses>>
CB -down-> IM : <<uses>>
VM -down-> DX : <<uses>>
VM -down-> DY : <<uses>>
VM -down-> DZ : <<uses>>
IM -down-> SM : <<uses>>
VM -down-> SM : <<uses>>
CA -down-> SM : <<uses>>
CB -down-> SM : <<uses>>

note as GOOD #E8F5E9
  **Good:** Dependencies flow
  toward stable modules (I ≈ 0).
  Changes to stable modules
  are rare → low ripple effect.
end note

note as BAD #FFEBEE
  **Violation:** If a stable module
  were to depend on a volatile
  module, changes would propagate
  to all of its dependents.
end note
@enduml
