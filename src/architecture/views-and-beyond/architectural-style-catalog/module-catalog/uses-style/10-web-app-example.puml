@startuml

skinparam backgroundColor white
skinparam defaultFontSize 12
skinparam ArrowColor #2C3E50
skinparam ArrowThickness 2
skinparam RectangleBorderColor #2C3E50
skinparam RectangleFontSize 13
skinparam PackageBorderColor #566573
skinparam PackageBackgroundColor #FAFAFA

title Example: Web Application Uses Structure

package "Presentation Layer" as PL #FFF3E0 {
  rectangle "User Controller" as UC #FFE0B2
  rectangle "Admin Controller" as AC #FFE0B2
}

package "Service Layer" as SL #E8F5E9 {
  rectangle "User Service" as US #C8E6C9
  rectangle "Order Service" as OS #C8E6C9
}

package "Domain Model" as DM #E3F2FD {
  rectangle "User Entity" as UE #BBDEFB
  rectangle "Order Entity" as OE #BBDEFB
}

package "Repository Layer" as RL #F3E5F5 {
  rectangle "User Repository" as UR #E1BEE7
  rectangle "Order Repository" as OR #E1BEE7
}

package "Infrastructure" as IL #ECEFF1 {
  rectangle "DB Access" as DB #CFD8DC
  rectangle "Logging" as LG #CFD8DC
}

UC -down-> US : <<uses>>
UC -down-> LG : <<uses>>
AC -down-> US : <<uses>>
AC -down-> OS : <<uses>>
US -down-> UE : <<uses>>
US -down-> UR : <<uses>>
OS -down-> OE : <<uses>>
OS -down-> OR : <<uses>>
OS -down-> US : <<uses>>
UR -down-> DB : <<uses>>
OR -down-> DB : <<uses>>
UR -down-> LG : <<uses>>
OR -down-> LG : <<uses>>

note as N1
  **Analysis**
  Largely acyclic and layered.
  Infrastructure = foundation (high fan-in).
  Controllers = top-level (zero fan-in).
  Development proceeds bottom-up.
end note
@enduml
