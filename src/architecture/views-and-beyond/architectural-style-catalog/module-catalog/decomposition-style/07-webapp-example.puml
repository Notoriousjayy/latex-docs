@startuml 07-webapp-example
skinparam backgroundColor #FFFFFF
skinparam defaultFontName "Helvetica"
skinparam defaultFontSize 11
skinparam padding 4
skinparam roundCorner 6

title Web Application: Layered Decomposition

skinparam rectangle {
  FontSize 11
}

rectangle "**Web Application System**" as root #37474F;text:white {

  rectangle "**Presentation Layer**" as pres #E8EAF6 {
    rectangle "Web UI" as p1 #C5CAE9
    rectangle "Mobile API" as p2 #C5CAE9
    rectangle "Admin\nInterface" as p3 #C5CAE9
    rectangle "Public API" as p4 #C5CAE9
  }

  rectangle "**Business Logic Layer**" as biz #B3E5FC {
    rectangle "User\nManagement" as b1 #81D4FA
    rectangle "Content\nManagement" as b2 #81D4FA
    rectangle "Analytics" as b3 #81D4FA
    rectangle "Notifications" as b4 #81D4FA
  }

  rectangle "**Data Access Layer**" as dal #B2DFDB {
    rectangle "Repository\nImplementations" as d1 #80CBC4
    rectangle "Query\nServices" as d2 #80CBC4
    rectangle "Caching" as d3 #80CBC4
  }

  rectangle "**Infrastructure Layer**" as infra #D7CCC8 {
    rectangle "Logging" as i1 #BCAAA4
    rectangle "Security" as i2 #BCAAA4
    rectangle "Configuration" as i3 #BCAAA4
  }
}

pres -[#546E7A,dashed]-> biz : "  uses  "
biz -[#546E7A,dashed]-> dal : "  uses  "
dal -[#546E7A,dashed]-> infra : "  uses  "

legend right
  Decomposition criteria:
  **Technical layers** at top level
  **Domain modules** within
  Business Logic layer
end legend

@enduml
