@startuml 08-common-patterns
skinparam backgroundColor #FFFFFF
skinparam defaultFontName "Helvetica"
skinparam defaultFontSize 10
skinparam padding 4
skinparam roundCorner 6

title Common Decomposition Patterns

skinparam rectangle {
  FontSize 10
}

together {
  rectangle "**Layered**" as lay_t #37474F;text:white
  rectangle " " as lay #FFFFFF {
    rectangle "Presentation" as l1 #E8EAF6
    rectangle "Business Logic" as l2 #C5CAE9
    rectangle "Data Access" as l3 #B3E5FC
    l1 -[#546E7A]-> l2
    l2 -[#546E7A]-> l3
  }
  note bottom of lay
    Modules by
    abstraction level
  end note
}

together {
  rectangle "**Feature-Based**" as feat_t #37474F;text:white
  rectangle " " as feat #FFFFFF {
    rectangle "Feature A" as f1 #E8EAF6
    rectangle "Feature B" as f2 #C5CAE9
    rectangle "Feature C" as f3 #B3E5FC
  }
  note bottom of feat
    Modules per
    user-visible feature
  end note
}

together {
  rectangle "**Domain-Driven**" as ddd_t #37474F;text:white
  rectangle " " as ddd #FFFFFF {
    rectangle "Bounded\nContext 1" as d1 #E8EAF6
    rectangle "Bounded\nContext 2" as d2 #C5CAE9
    d1 -[#546E7A]-> d2 : interface
  }
  note bottom of ddd
    Modules per
    bounded context
  end note
}

together {
  rectangle "**Plugin**" as plug_t #37474F;text:white
  rectangle " " as plug #FFFFFF {
    rectangle "Core" as p1 #E8EAF6
    rectangle "Plugin A" as p2 #C5CAE9
    rectangle "Plugin B" as p3 #B3E5FC
    p2 -[#546E7A]-> p1
    p3 -[#546E7A]-> p1
  }
  note bottom of plug
    Core + extensible
    plugin points
  end note
}

together {
  rectangle "**Facade**" as fac_t #37474F;text:white
  rectangle " " as fac #FFFFFF {
    rectangle "Facade" as fa1 #E8EAF6
    rectangle "Internal A" as fa2 #C5CAE9
    rectangle "Internal B" as fa3 #C5CAE9
    fa1 -[#546E7A]-> fa2
    fa1 -[#546E7A]-> fa3
  }
  note bottom of fac
    Simplified interface
    to complex subsystem
  end note
}

lay_t -[hidden]right-> feat_t
feat_t -[hidden]right-> ddd_t
ddd_t -[hidden]right-> plug_t
plug_t -[hidden]right-> fac_t

@enduml
