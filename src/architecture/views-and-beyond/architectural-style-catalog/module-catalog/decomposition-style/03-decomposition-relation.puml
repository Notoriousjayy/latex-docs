@startuml 03-decomposition-relation
skinparam backgroundColor #FFFFFF
skinparam defaultFontName "Helvetica"
skinparam defaultFontSize 12
skinparam padding 6
skinparam roundCorner 8

title Decomposition Relation Semantics

skinparam rectangle {
  FontSize 12
}

together {

  rectangle "**Containment**" as cont_title #FFFFFF

  rectangle "Parent Module" as p1 #E8EAF6 {
    rectangle "Child A" as c1a #C5CAE9
    rectangle "Child B" as c1b #C5CAE9
    rectangle "Child C" as c1c #C5CAE9
  }

  note bottom of p1
    Children are wholly
    contained within parent.
    Single-parent constraint
    applies.
  end note

}

together {

  rectangle "**Responsibility Partition**" as resp_title #FFFFFF

  rectangle "Order Management\n//responsibilities: R1..R6//" as p2 #E8EAF6 {
    rectangle "Order Entry\n//R1, R2//" as c2a #C5CAE9
    rectangle "Fulfillment\n//R3, R4//" as c2b #C5CAE9
    rectangle "Returns\n//R5, R6//" as c2c #C5CAE9
  }

  note bottom of p2
    Parent responsibilities
    are distributed among
    children. Coverage should
    be complete.
  end note

}

together {

  rectangle "**Scope Restriction**" as scope_title #FFFFFF

  rectangle "Data Access (broad scope)" as p3 #E8EAF6 {
    rectangle "SQL Repository\n(narrow scope)" as c3a #C5CAE9
    rectangle "Cache Manager\n(narrow scope)" as c3b #C5CAE9
    rectangle "Query Builder\n(narrow scope)" as c3c #C5CAE9
  }

  note bottom of p3
    Each child's scope is a
    subset of the parent's
    scope.
  end note

}

cont_title -[hidden]right-> resp_title
resp_title -[hidden]right-> scope_title

@enduml
