@startuml
skinparam backgroundColor #FEFEFE
skinparam defaultFontSize 12
skinparam shadowing false
skinparam rectangleRoundCorner 8
skinparam rectangleFontSize 13
skinparam rectangleFontStyle bold
skinparam packageRoundCorner 8
skinparam packageFontSize 14
skinparam packageFontStyle bold

title Strict vs. Relaxed Layering\nConstraining the allowed-to-use relation

package "Strict Layering" as strict #F5F5F5 {
  rectangle "Layer 4\n**Presentation**" as S4 #B3D9FF
  rectangle "Layer 3\n**Application**" as S3 #CCE5CC
  rectangle "Layer 2\n**Domain**" as S2 #FFE0B2
  rectangle "Layer 1\n**Foundation**" as S1 #E0CFE8

  S4 -[#3366AA]-> S3 : uses
  S3 -[#3366AA]-> S2 : uses
  S2 -[#3366AA]-> S1 : uses
}

package "Relaxed Layering" as relaxed #F5F5F5 {
  rectangle "Layer 4\n**Presentation**" as R4 #B3D9FF
  rectangle "Layer 3\n**Application**" as R3 #CCE5CC
  rectangle "Layer 2\n**Domain**" as R2 #FFE0B2
  rectangle "Layer 1\n**Foundation**" as R1 #E0CFE8

  R4 -[#3366AA]-> R3 : uses
  R3 -[#3366AA]-> R2 : uses
  R2 -[#3366AA]-> R1 : uses
  R4 -[#CC6633,dashed]-> R2 : skip
  R4 -[#CC6633,dashed]-> R1 : skip
  R3 -[#CC6633,dashed]-> R1 : skip
}

note bottom of strict
  Each layer uses **only** the layer
  immediately below. Maximum isolation
  but may require pass-through methods.
end note

note bottom of relaxed
  Each layer may use **any** layer
  below it. More flexible and efficient
  but increases potential coupling.
end note
@enduml
