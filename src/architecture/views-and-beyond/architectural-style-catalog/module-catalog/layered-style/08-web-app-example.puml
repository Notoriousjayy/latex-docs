@startuml
skinparam backgroundColor #FEFEFE
skinparam defaultFontSize 11
skinparam shadowing false
skinparam rectangleRoundCorner 8
skinparam rectangleFontSize 12
skinparam rectangleFontStyle bold

title Web Application -- Layered Architecture Example\nConcrete modules within each layer

rectangle "**Presentation Layer**" as PRES #B3D9FF {
  rectangle "Web\nControllers" as wc #D6EBFF
  rectangle "View\nTemplates" as vt #D6EBFF
  rectangle "Client-Side\nJavaScript" as js #D6EBFF
  rectangle "API\nEndpoints" as api #D6EBFF
}

rectangle "**Business Layer**" as BIZ #CCE5CC {
  rectangle "Domain\nEntities" as de #E0F0E0
  rectangle "Business\nServices" as bs #E0F0E0
  rectangle "Validation\nRules" as vr #E0F0E0
  rectangle "Workflow\nLogic" as wl #E0F0E0
}

rectangle "**Data Layer**" as DATA #FFE0B2 {
  rectangle "Repositories" as repo #FFF0D6
  rectangle "Data\nMappers" as dm #FFF0D6
  rectangle "Query\nBuilders" as qb #FFF0D6
  rectangle "Connection\nMgmt" as cm #FFF0D6
}

wc -[#3366AA]-> bs : invokes
api -[#3366AA]-> bs : invokes
bs -[#3366AA]-> repo : reads/writes
bs -[#3366AA]-> de : uses
repo -[#3366AA]-> dm : maps
repo -[#3366AA]-> qb : queries
qb -[#3366AA]-> cm : connects

note right of PRES
  Handles HTTP requests
  and renders responses
end note

note right of DATA
  No upward dependencies:
  pure data access
end note
@enduml
