@startuml
skinparam backgroundColor #FEFEFE
skinparam defaultFontSize 12
skinparam shadowing false
skinparam rectangleRoundCorner 8
skinparam rectangleFontSize 13
skinparam rectangleFontStyle bold

title Layering with Sidecar Pattern\nCross-cutting utilities live outside the layer hierarchy

rectangle "**Presentation**" as L4 #B3D9FF
rectangle "**Application**" as L3 #CCE5CC
rectangle "**Domain**" as L2 #FFE0B2
rectangle "**Foundation**" as L1 #E0CFE8

rectangle "<<sidecar>>\n**Cross-Cutting Utilities**\nLogging | Configuration | Monitoring" as SIDE #FFF9C4

L4 -[#3366AA]-> L3
L3 -[#3366AA]-> L2
L2 -[#3366AA]-> L1

L4 .[#CC9900].> SIDE
L3 .[#CC9900].> SIDE
L2 .[#CC9900].> SIDE
L1 .[#CC9900].> SIDE

note right of SIDE
  Sidecar modules are
  accessible from **all layers**.
  Use sparingly for genuinely
  cross-cutting concerns only.
end note
@enduml
