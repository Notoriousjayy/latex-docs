@startuml

skinparam backgroundColor #FEFEFE
skinparam defaultFontName Helvetica
skinparam defaultFontSize 12
skinparam shadowing false
skinparam roundcorner 8
skinparam classBackgroundColor #FFFFFF
skinparam classBorderColor #475569
skinparam classFontColor #1E293B
skinparam classHeaderBackgroundColor #E2E8F0

title Anatomy of an Aspect Module

class "<<aspect>>\nLoggingAspect" as aspect {
  .. Pointcut Declarations ..
  + serviceMethods() : execution(* svc.*.*(..))
  + repoMethods() : execution(* repo.*.*(..))
  __
  .. Before Advice ..
  + logEntry(jp : JoinPoint) : void
  __
  .. After Returning Advice ..
  + logSuccess(jp : JoinPoint, result : Object) : void
  __
  .. After Throwing Advice ..
  + logError(jp : JoinPoint, ex : Exception) : void
  __
  .. Inter-type Declarations ..
  + Auditable.getAuditLog() : List
}

class "Join Point Model" as jpm #F0F4F8 {
  Method call
  Method execution
  Field access
  Object construction
  Exception handling
}

class "Advice Types" as adv #F0F4F8 {
  Before : runs before join point
  After returning : runs on success
  After throwing : runs on exception
  After finally : always runs
  Around : wraps join point
}

aspect -right-> jpm : pointcuts\nmatch
aspect -left-> adv : advice\nexecutes at

note bottom of aspect
  An aspect encapsulates a crosscutting concern.
  **Pointcuts** select where; **Advice** defines what.
end note

@enduml
