@startuml 04-generalization-specialization
!define SUPER #4A90D9
!define SUB1 #5BA85B
!define SUB2 #D4763C
!define SUB3 #7B68AE
!define LIGHT_SUPER #E8F0FE
!define LIGHT_S1 #E8F5E8
!define LIGHT_S2 #FDE8D8
!define LIGHT_S3 #EDE8F5
!define BORDER #3A3A3A

skinparam backgroundColor white
skinparam defaultFontName "Helvetica"
skinparam defaultFontSize 11
skinparam shadowing false
skinparam roundCorner 4

skinparam class {
  FontSize 12
  AttributeFontSize 10
}

title <size:18><b>Generalization & Specialization</b></size>\n<size:12>Supertype/subtype inheritance hierarchy (Account example)</size>

class "Account" as acct <<Supertype>> #E8F0FE {
  account_id : UUID <<PK>>
  owner_id : UUID <<FK>>
  balance : Decimal
  opened_date : Date
  status : Enum
}

class "CheckingAccount" as check <<Subtype>> #E8F5E8 {
  overdraft_limit : Decimal
  check_number_seq : Integer
}

class "SavingsAccount" as save <<Subtype>> #FDE8D8 {
  interest_rate : Decimal
  min_balance : Decimal
}

class "InvestmentAccount" as invest <<Subtype>> #EDE8F5 {
  risk_profile : Enum
  broker_id : UUID <<FK>>
}

acct <|-- check
acct <|-- save
acct <|-- invest

note right of acct
  Shared attributes inherited
  by all subtypes
end note

note bottom of check
  **Disjoint, Total**
  Every account must be
  exactly one subtype
end note

legend bottom
  |= Strategy |= Description |= Trade-off |
  | Single Table | One table, all columns, discriminator | Simple queries · Sparse nulls |
  | Class Table | Supertype + subtype tables, shared PK | Normalized · Requires joins |
  | Concrete Table | Separate table per subtype | No joins · Duplicated structure |
end legend

@enduml
