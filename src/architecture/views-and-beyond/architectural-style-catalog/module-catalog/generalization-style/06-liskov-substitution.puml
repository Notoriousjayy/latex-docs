@startuml
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 12
skinparam shadowing false
skinparam dpi 150
skinparam nodesep 60
skinparam ranksep 45

skinparam class {
  BorderColor #2C3E50
  ArrowColor #2C3E50
  FontColor #2C3E50
  FontSize 13
  AttributeFontSize 11
}

skinparam package {
  BorderColor #888888
  FontSize 13
}

skinparam note {
  BackgroundColor #FFFFF0
  BorderColor #999999
  FontSize 11
}

title **Liskov Substitution Principle**\nChildren must be safely substitutable for parents

package "Correct : shared interface" #D5E8D4 {
  interface "Shape" as shp #F3E5F5 {
    + area() : int
  }
  class "Rectangle" as rect #E8F5E9 {
    # width : int
    # height : int
    + area() : int
    + setWidth(w)
    + setHeight(h)
  }
  class "Square" as sq_good #E8F5E9 {
    # side : int
    + area() : int
    + setSide(s)
  }
  shp <|.. rect
  shp <|.. sq_good
}

package "Broken : forced inheritance" #FDEBD0 {
  class "Rectangle " as rect2 #FFF3E0 {
    + setWidth(w)
    + setHeight(h)
    + area() : int
  }
  class "Square " as sq_bad #FFF3E0 {
    + setWidth(w)
    + setHeight(h)
    + area() : int
  }
  rect2 <|-- sq_bad
}

note bottom of sq_good
  Square does **not** extend
  Rectangle. Both implement
  Shape independently.
end note

note bottom of sq_bad
  **Violation:** setWidth() must
  also change height to keep
  square invariant, which
  breaks Rectangle's contract.
end note

legend bottom
  A child that **strengthens preconditions** or **weakens postconditions** violates LSP.
  Programs using the parent type will produce unexpected results with the child.
end legend

@enduml
