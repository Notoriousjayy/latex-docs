@startuml
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false

skinparam node {
    BackgroundColor #E3F2FD
    BorderColor #1565C0
    FontColor #0D47A1
}

skinparam database {
    BackgroundColor #FFF3E0
    BorderColor #EF6C00
    FontColor #E65100
}

title Primary-Replica Deployment Pattern

rectangle "Write Path" {
    actor "Writers" as writers
    node "Primary Node" as primary {
        database "Primary DB\n(read/write)" as primaryDB
    }
    writers -down-> primaryDB : writes
}

rectangle "Read Path" {
    actor "Readers" as readers
    node "Replica 1" as rep1 {
        database "Replica DB\n(read-only)" as repDB1
    }
    node "Replica 2" as rep2 {
        database "Replica DB\n(read-only)" as repDB2
    }
    readers -down-> repDB1 : reads
    readers -down-> repDB2 : reads
}

primaryDB -right-> repDB1 : replication\n(async)
primaryDB -right-> repDB2 : replication

note as considerations
  Considerations:
  Replication lag (stale reads)
  Failover procedures
  Split-brain prevention
  Consistency guarantees
end note

note bottom of primary
  Use cases:
  Read-heavy workloads
  Data durability
  Disaster recovery
end note

@enduml
